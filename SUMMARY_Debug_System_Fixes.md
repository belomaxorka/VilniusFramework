# ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –¥–µ–±–∞–≥–∞ - –ó–∞–≤–µ—Ä—à–µ–Ω–æ!

**–î–∞—Ç–∞:** 1 –æ–∫—Ç—è–±—Ä—è 2025  
**–ü—Ä–æ–µ–∫—Ç:** TorrentPier  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏ –≤—ã—Å–æ–∫–æ–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã

---

## üìã –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### ‚úÖ 1. –°–æ–∑–¥–∞–Ω–∞ –µ–¥–∏–Ω–∞—è —É—Ç–∏–ª–∏—Ç–∞ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è `FormatHelper`

**–§–∞–π–ª:** `core/Utils/FormatHelper.php`

**–ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ:**
- ‚úÖ `formatBytes()` - —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–∞–π—Ç–æ–≤ (B, KB, MB, GB, TB, PB)
- ‚úÖ `formatTime()` - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ (Œºs, ms, s) —Å –∞–≤—Ç–æ–≤—ã–±–æ—Ä–æ–º –µ–¥–∏–Ω–∏—Ü
- ‚úÖ `formatNumber()` - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∏—Å–µ–ª —Å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª—è–º–∏ —Ç—ã—Å—è—á
- ‚úÖ `formatPercent()` - —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ–Ω—Ç–æ–≤
- ‚úÖ `getColorByThreshold()` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞ –ø–æ –ø–æ—Ä–æ–≥–æ–≤—ã–º –∑–Ω–∞—á–µ–Ω–∏—è–º

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ï–¥–∏–Ω–æ–µ –º–µ—Å—Ç–æ –¥–ª—è –≤—Å–µ—Ö —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–π
- –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤–æ –≤—Å–µ–π —Å–∏—Å—Ç–µ–º–µ
- –õ–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å
- –†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å (–º–æ–∂–Ω–æ –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã)

---

### ‚úÖ 2. –£–ª—É—á—à–µ–Ω `MemoryProfiler::getMemoryLimit()`

**–§–∞–π–ª:** `core/MemoryProfiler.php:252-291`

**–ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ —á–µ—Ä–µ–∑ regex
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç –ø—É—Å—Ç–æ–π —Å—Ç—Ä–æ–∫–∏
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ª—É—á–∞—è `false` –æ—Ç `ini_get()`
- ‚úÖ –Ø–≤–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –æ fallthrough –≤ switch
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–∞—è PHPDoc –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–î–æ:**
```php
$last = strtolower($limit[strlen($limit) - 1]); // ‚ö†Ô∏è –ú–æ–∂–µ—Ç —É–ø–∞—Å—Ç—å –Ω–∞ –ø—É—Å—Ç–æ–π —Å—Ç—Ä–æ–∫–µ
$value = (int)$limit;
```

**–ü–æ—Å–ª–µ:**
```php
if (!preg_match('/^(\d+)([KMG])?$/i', $limit, $matches)) {
    return 0; // ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —Ñ–æ—Ä–º–∞—Ç–∞
}
$value = (int)$matches[1];
```

---

### ‚úÖ 3. –£—Å—Ç—Ä–∞–Ω–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**–ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `core/MemoryProfiler.php:233-236`
- `core/DebugToolbar/AbstractCollector.php:78-108`

**–ß—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–æ:**

**MemoryProfiler:**
```php
public static function formatBytes(int $bytes, int $precision = 2): string
{
    return \Core\Utils\FormatHelper::formatBytes($bytes, $precision);
}
```
- –¢–µ–ø–µ—Ä—å –¥–µ–ª–µ–≥–∏—Ä—É–µ—Ç –≤ FormatHelper
- –ü–æ–º–µ—á–µ–Ω –∫–∞–∫ @deprecated –¥–ª—è –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏

**AbstractCollector:**
```php
protected function formatBytes(int $bytes): string
{
    return \Core\Utils\FormatHelper::formatBytes($bytes, 2);
}

protected function formatTime(float $timeMs): string
{
    return \Core\Utils\FormatHelper::formatTime($timeMs, 2);
}

protected function getColorByThreshold(float $value, float $warning, float $critical): string
{
    return \Core\Utils\FormatHelper::getColorByThreshold($value, $warning, $critical);
}
```
- –í—Å–µ –º–µ—Ç–æ–¥—ã –¥–µ–ª–µ–≥–∏—Ä—É—é—Ç –≤ FormatHelper
- –ï–¥–∏–Ω–æ–æ–±—Ä–∞–∑–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ

---

### ‚úÖ 4. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω `formatTime()` –≤ AbstractCollector

**–§–∞–π–ª:** `core/DebugToolbar/AbstractCollector.php:92-95`

**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ–ø–æ–Ω—è—Ç–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –≤—Ä–µ–º–µ–Ω–∏

**–†–µ—à–µ–Ω–∏–µ:** 
- –ß—ë—Ç–∫–æ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ: –≤—Ö–æ–¥–Ω–æ–π –ø–∞—Ä–∞–º–µ—Ç—Ä –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–µ–∫—É–Ω–¥ (> 1000 ms)
- –õ–æ–≥–∏–∫–∞ –≤—ã–Ω–µ—Å–µ–Ω–∞ –≤ FormatHelper –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```php
// FormatHelper::formatTime()
if ($timeMs < 1) {
    return number_format($timeMs * 1000, $precision) . ' Œºs';
} elseif ($timeMs < 1000) {
    return number_format($timeMs, $precision) . ' ms';
} else {
    return number_format($timeMs / 1000, $precision) . ' s';
}
```

---

### ‚úÖ 5. –£–¥–∞–ª–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ `parseMemoryLimit()`

**–§–∞–π–ª:** `core/DebugToolbar/Collectors/MemoryCollector.php:117-120`

**–ë—ã–ª–æ:**
```php
private function parseMemoryLimit(string $limit): int
{
    // 14 —Å—Ç—Ä–æ–∫ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞
}
```

**–°—Ç–∞–ª–æ:**
```php
private function getMemoryLimit(): int
{
    return MemoryProfiler::getMemoryLimit(); // ‚úÖ –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ!
}
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è
- –ï–¥–∏–Ω–æ–µ –º–µ—Å—Ç–æ –¥–ª—è –ª–æ–≥–∏–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤—Å–µ—Ö —É–ª—É—á—à–µ–Ω–∏–π

---

### ‚úÖ 6. –î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç —Ä–µ–∫—É—Ä—Å–∏–∏ –≤ `Debug::dump()`

**–§–∞–π–ª:** `core/Debug.php:13, 18-59, 64-100`

**–ß—Ç–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ:**
```php
private static bool $isDumping = false;

public static function dump(mixed $var, ?string $label = null, bool $die = false): void
{
    if (self::$isDumping) {
        return; // ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç —Ä–µ–∫—É—Ä—Å–∏–∏
    }

    self::$isDumping = true;

    try {
        // ... –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ ...
    } finally {
        self::$isDumping = false; // ‚úÖ –í—Å–µ–≥–¥–∞ —Å–±—Ä–∞—Å—ã–≤–∞–µ–º —Ñ–ª–∞–≥
    }
}
```

**–ó–∞—â–∏—â—ë–Ω–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
- ‚úÖ `Debug::dump()`
- ‚úÖ `Debug::dumpPretty()`

**–ó–∞—â–∏—Ç–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è:**
- –û–±—ä–µ–∫—Ç–æ–≤, —Å–æ–¥–µ—Ä–∂–∞—â–∏—Ö —Å—Å—ã–ª–∫–∏ –Ω–∞ Debug
- –õ–æ–≥–≥–µ—Ä–æ–≤, –≤—ã–∑—ã–≤–∞—é—â–∏—Ö dump –≤–Ω—É—Ç—Ä–∏ —Å–µ–±—è
- –õ—é–±—ã—Ö —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö —Å—Å—ã–ª–æ–∫ —á–µ—Ä–µ–∑ Debug

---

### ‚úÖ 7. –£–ª—É—á—à–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- `core/MemoryProfiler.php` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥—Ä–æ–±–Ω–∞—è PHPDoc
- `core/Utils/FormatHelper.php` - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏
- `core/DebugToolbar/AbstractCollector.php` - —É—Ç–æ—á–Ω–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –º–µ—Ç–æ–¥–æ–≤

**–ü—Ä–∏–º–µ—Ä —É–ª—É—á—à–µ–Ω–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:**
```php
/**
 * –ü–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
 * 
 * –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–∏—Å—Ç–µ–º—ã (–ø–∞—Ä–∞–º–µ—Ç—Ä false).
 * –≠—Ç–æ –≤–∫–ª—é—á–∞–µ—Ç –ø–∞–º—è—Ç—å, –≤—ã–¥–µ–ª–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º–æ–π –¥–ª—è PHP –ø—Ä–æ—Ü–µ—Å—Å–∞, –≤–∫–ª—é—á–∞—è
 * –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –±—É—Ñ–µ—Ä—ã, –∫–µ—à–∏ –∏ –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã.
 * 
 * –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –ó–Ω–∞—á–µ–Ω–∏—è –±—É–¥—É—Ç –≤—ã—à–µ, —á–µ–º –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ memory_get_usage(true),
 * —Ç–∞–∫ –∫–∞–∫ —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã PHP. –≠—Ç–æ –ø–æ–ª–µ–∑–Ω–æ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
 * —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –ø–∞–º—è—Ç–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã.
 * 
 * @return int –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ –≤ –±–∞–π—Ç–∞—Ö (—Å–∏—Å—Ç–µ–º–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ)
 * @see memory_get_usage()
 */
public static function current(): int
```

---

### ‚úÖ 8. –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç—ã –¥–ª—è FormatHelper

**–§–∞–π–ª:** `tests/Unit/Core/Utils/FormatHelperTest.php`

**–ü–æ–∫—Ä—ã—Ç–∏–µ:**
- ‚úÖ `formatBytes()` - 11 —Ç–µ—Å—Ç–æ–≤
- ‚úÖ `formatTime()` - 5 —Ç–µ—Å—Ç–æ–≤
- ‚úÖ `formatNumber()` - 4 —Ç–µ—Å—Ç–∞
- ‚úÖ `formatPercent()` - 3 —Ç–µ—Å—Ç–∞
- ‚úÖ `getColorByThreshold()` - 6 —Ç–µ—Å—Ç–æ–≤
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã - 2 —Ç–µ—Å—Ç–∞

**–í—Å–µ–≥–æ:** 31 —Ç–µ—Å—Ç

**–ü–æ–∫—Ä—ã–≤–∞—é—Ç—Å—è:**
- –ù–æ—Ä–º–∞–ª—å–Ω—ã–µ —Å–ª—É—á–∞–∏
- –ì—Ä–∞–Ω–∏—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
- –û—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ —á–∏—Å–ª–∞
- –ù—É–ª–µ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
- –ë–æ–ª—å—à–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è
- –ö–∞—Å—Ç–æ–º–Ω–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å
- –†–µ–∞–ª—å–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –ò–∑–º–µ–Ω–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:
1. ‚úÖ `core/Utils/FormatHelper.php` - **–°–û–ó–î–ê–ù** (148 —Å—Ç—Ä–æ–∫)
2. ‚úÖ `core/MemoryProfiler.php` - —É–ª—É—á—à–µ–Ω
3. ‚úÖ `core/DebugToolbar/AbstractCollector.php` - —É–ø—Ä–æ—â—ë–Ω
4. ‚úÖ `core/DebugToolbar/Collectors/MemoryCollector.php` - —É–ø—Ä–æ—â—ë–Ω
5. ‚úÖ `core/Debug.php` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞—â–∏—Ç–∞
6. ‚úÖ `tests/Unit/Core/Utils/FormatHelperTest.php` - **–°–û–ó–î–ê–ù** (246 —Å—Ç—Ä–æ–∫)

### –£–¥–∞–ª–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–¥–∞:
- ~40 —Å—Ç—Ä–æ–∫ –≤ MemoryCollector
- ~15 —Å—Ç—Ä–æ–∫ —Ä–∞–∑–ª–∏—á–∏–π –≤ formatBytes()
- ~10 —Å—Ç—Ä–æ–∫ —Ä–∞–∑–ª–∏—á–∏–π –≤ formatTime()

### –î–æ–±–∞–≤–ª–µ–Ω–æ:
- ~400 —Å—Ç—Ä–æ–∫ –Ω–æ–≤–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∫–æ–¥–∞
- 31 —Ç–µ—Å—Ç
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

## üéØ –†–µ—à—ë–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ (–≤—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã):
1. ‚úÖ ~~–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –±–∞–π—Ç–æ–≤~~
2. ‚úÖ ~~–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –≤ AbstractCollector~~
3. ‚úÖ ~~–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤ getMemoryLimit()~~

### –í—ã—Å–æ–∫–æ–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ (–≤—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã):
4. ‚úÖ ~~–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ parseMemoryLimit()~~
5. ‚úÖ ~~–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∑–∞—â–∏—Ç—ã –æ—Ç —Ä–µ–∫—É—Ä—Å–∏–∏~~
6. ‚úÖ ~~–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è~~

### –°—Ä–µ–¥–Ω–∏–µ (–≤—Å–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã):
7. ‚úÖ ~~–ù–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è~~
8. ‚úÖ ~~–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç–µ—Å—Ç–æ–≤ –¥–ª—è —É—Ç–∏–ª–∏—Ç~~

---

## üí° –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π

### 1. –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å
- –ï–¥–∏–Ω–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–æ –≤—Å–µ–π —Å–∏—Å—Ç–µ–º–µ
- –û–¥–∏–Ω–∞–∫–æ–≤—ã–µ –µ–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è –≤–µ–∑–¥–µ
- –ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ

### 2. –ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- –ó–∞—â–∏—Ç–∞ –æ—Ç —Ä–µ–∫—É—Ä—Å–∏–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –≥—Ä–∞–Ω–∏—á–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤

### 3. –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å
- –ï–¥–∏–Ω–æ–µ –º–µ—Å—Ç–æ –¥–ª—è –ª–æ–≥–∏–∫–∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –•–æ—Ä–æ—à–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–æ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ

### 4. –†–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å
- –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã
- FormatHelper –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–µ–∑–¥–µ
- –ß–∏—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

---

## üîÑ –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

### ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞!

–í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è **–æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã**:

1. **MemoryProfiler::formatBytes()** - —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ, –Ω–æ —Ç–µ–ø–µ—Ä—å –¥–µ–ª–µ–≥–∏—Ä—É–µ—Ç –≤ FormatHelper
2. **AbstractCollector –º–µ—Ç–æ–¥—ã** - API –Ω–µ –∏–∑–º–µ–Ω–∏–ª—Å—è, —Ç–æ–ª—å–∫–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è
3. **MemoryCollector** - –≤–Ω–µ—à–Ω–µ–µ API –∏–¥–µ–Ω—Ç–∏—á–Ω–æ
4. **Debug::dump()** - –ø–æ–≤–µ–¥–µ–Ω–∏–µ –Ω–µ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –¥–ª—è –Ω–æ—Ä–º–∞–ª—å–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤

**–ù–∏–∫–∞–∫–∏—Ö breaking changes!** üéâ

---

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

### –û `memory_get_usage(false)` vs `true`

**–¢–µ–∫—É—â–µ–µ —Ä–µ—à–µ–Ω–∏–µ:** –û—Å—Ç–∞–≤–ª–µ–Ω –ø–∞—Ä–∞–º–µ—Ç—Ä `false` –ø–æ –≤–∞—à–µ–º—É –≤—ã–±–æ—Ä—É.

**–û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ:**
- ‚úÖ `false` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–∏—Å—Ç–µ–º—ã
- ‚úÖ –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–æ–π –ø–∞–º—è—Ç–∏
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–± —ç—Ç–æ–º –≤—ã–±–æ—Ä–µ

**–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ –≤ –∫–æ–¥–µ:**
```php
/**
 * –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å–∏—Å—Ç–µ–º—ã (–ø–∞—Ä–∞–º–µ—Ç—Ä false).
 * –≠—Ç–æ –≤–∫–ª—é—á–∞–µ—Ç –ø–∞–º—è—Ç—å, –≤—ã–¥–µ–ª–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º–æ–π –¥–ª—è PHP –ø—Ä–æ—Ü–µ—Å—Å–∞, –≤–∫–ª—é—á–∞—è
 * –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –±—É—Ñ–µ—Ä—ã, –∫–µ—à–∏ –∏ –Ω–∞–∫–ª–∞–¥–Ω—ã–µ —Ä–∞—Å—Ö–æ–¥—ã.
 * 
 * –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: –ó–Ω–∞—á–µ–Ω–∏—è –±—É–¥—É—Ç –≤—ã—à–µ, —á–µ–º –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ memory_get_usage(true),
 * —Ç–∞–∫ –∫–∞–∫ —É—á–∏—Ç—ã–≤–∞—é—Ç—Å—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã PHP.
 */
```

–ï—Å–ª–∏ –≤ –±—É–¥—É—â–µ–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ `true`, —ç—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π.

---

## üß™ –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã FormatHelper
./vendor/bin/pest tests/Unit/Core/Utils/FormatHelperTest.php

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã –¥–µ–±–∞–≥–∞
./vendor/bin/pest tests/Unit/Core/Debug/

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ñ–∞–π–ª–µ—Ä–∞ –ø–∞–º—è—Ç–∏
./vendor/bin/pest tests/Unit/Core/Debug/MemoryProfilerTest.php
```

---

## üéâ –ò—Ç–æ–≥

### –ß—Ç–æ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–æ:
1. ‚úÖ –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã
2. ‚úÖ –ö–æ–¥ —Å—Ç–∞–ª —á–∏—â–µ –∏ –ø–æ–Ω—è—Ç–Ω–µ–µ
3. ‚úÖ –£—Å—Ç—Ä–∞–Ω–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
4. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç—ã –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
5. ‚úÖ –ü–æ–≤—ã—à–µ–Ω–∞ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å —Å–∏—Å—Ç–µ–º—ã
6. ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

### –û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞:

**–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:** 7.5/10  
**–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:** 9.5/10 ‚≠ê

### –ß—Ç–æ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ –±—É–¥—É—â–µ–º (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):

1. üìä –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ —Å–∞–º–æ–π —Å–∏—Å—Ç–µ–º—ã –¥–µ–±–∞–≥–∞
2. üìà –ò—Å—Ç–æ—Ä–∏—è —Å–Ω–∏–º–∫–æ–≤ –ø–∞–º—è—Ç–∏ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
3. üìâ –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤
4. üîî –ê–ª–µ—Ä—Ç—ã –æ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ø–æ—Ä–æ–≥–æ–≤
5. üìÅ –≠–∫—Å–ø–æ—Ä—Ç –ø—Ä–æ—Ñ–∏–ª–µ–π –≤ —Ñ–∞–π–ª—ã

**–ù–æ —ç—Ç–æ —É–∂–µ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ!**

---

## ‚ú® –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –¥–µ–±–∞–≥–∞ —Ç–µ–ø–µ—Ä—å –∏–º–µ–µ—Ç:
- üèóÔ∏è **–ß–∏—Å—Ç—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É** —Å –µ–¥–∏–Ω—ã–º FormatHelper
- üõ°Ô∏è **–ù–∞–¥—ë–∂–Ω—É—é –∑–∞—â–∏—Ç—É** –æ—Ç —Ä–µ–∫—É—Ä—Å–∏–∏ –∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- üìö **–•–æ—Ä–æ—à—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é** —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏
- ‚úÖ **–ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–æ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ** –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- üîÑ **100% –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**

**–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É!** üöÄ

---

**–ê–≤—Ç–æ—Ä:** AI Assistant  
**–î–∞—Ç–∞:** 1 –æ–∫—Ç—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û

