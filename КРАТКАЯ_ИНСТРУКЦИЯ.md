# ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ—É–Ω–∫—Ü–∏–π –≤ —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä–µ - –ì–æ—Ç–æ–≤–æ!

## –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—ã–∑–æ–≤–∞ PHP-—Ñ—É–Ω–∫—Ü–∏–π –≤ –≤–∞—à–µ–º Twig-–ø–æ–¥–æ–±–Ω–æ–º —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä–µ.

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –í —à–∞–±–ª–æ–Ω–∞—Ö (*.twig)

```twig
{! vite('app') !}
{! hello(username) !}
{! format_price(100.50, "RUB") !}
```

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

- ‚úÖ `vite(entry)` - –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è Vite assets
- ‚úÖ `asset(path)` - –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
- ‚úÖ `url(path)` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è URL
- ‚úÖ `route(name, params)` - URL –ø–æ –∏–º–µ–Ω–∏ –º–∞—Ä—à—Ä—É—Ç–∞
- ‚úÖ `config(key)` - –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- ‚úÖ –ò –¥—Ä—É–≥–∏–µ (—Å–º. `docs/TemplateEngine.md`)

### –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å–≤–æ–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π

```php
use Core\TemplateEngine;

$template = TemplateEngine::getInstance();

$template->addFunction('my_func', function($arg) {
    return "–†–µ–∑—É–ª—å—Ç–∞—Ç: {$arg}";
});
```

## –ü—Ä–∏–º–µ—Ä—ã

### –ü—Ä–æ—Å—Ç–æ–π –≤—ã–∑–æ–≤
```twig
{! vite('app') !}
```
‚Üì –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –≤ ‚Üì
```php
<?= $__tpl->callFunction('vite', 'app') ?? '' ?>
```

### –° –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
```twig
{! greet(username) !}
```

### –í–ª–æ–∂–µ–Ω–Ω—ã–µ –≤—ã–∑–æ–≤—ã
```twig
{! upper(hello(name)) !}
```

### –í —É—Å–ª–æ–≤–∏—è—Ö
```twig
{% if is_admin() %}
    –ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
{% endif %}
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **`{! !}`** - –ù–ï —ç–∫—Ä–∞–Ω–∏—Ä—É–µ—Ç HTML (–¥–ª—è –¥–æ–≤–µ—Ä–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä HTML-—Ç–µ–≥–∏)
- **`{{ }}`** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —ç–∫—Ä–∞–Ω–∏—Ä—É–µ—Ç HTML (–±–µ–∑–æ–ø–∞—Å–Ω–æ)

## –¢–µ—Å—Ç—ã

–°–æ–∑–¥–∞–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã –≤ `tests/Unit/Core/Template/TemplateEngineFunctionsTest.php`

–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤:
```bash
vendor/bin/pest tests/Unit/Core/Template/TemplateEngineFunctionsTest.php
```

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `docs/TemplateEngine.md`

## –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –≤ –∫–æ–¥–µ

### –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:
- ‚úÖ `core/TemplateEngine.php` - –¥–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏
- ‚úÖ `docs/TemplateEngine.md` - –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ `tests/Unit/Core/Template/TemplateEngineFunctionsTest.php` - –¥–æ–±–∞–≤–ª–µ–Ω—ã —Ç–µ—Å—Ç—ã

### –ù–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã –≤ TemplateEngine:
- `addFunction(name, callback)` - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–∏
- `hasFunction(name)` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è
- `callFunction(name, ...args)` - –≤—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏
- `processFunctionCalls()` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–∑–æ–≤–æ–≤ –≤ —à–∞–±–ª–æ–Ω–∞—Ö
- `processFunctionArguments()` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
- `registerBuiltInFunctions()` - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π

## –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üöÄ

–¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `{! vite('app') !}` –∏ –ª—é–±—ã–µ –¥—Ä—É–≥–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ –≤–∞—à–∏—Ö —à–∞–±–ª–æ–Ω–∞—Ö.

