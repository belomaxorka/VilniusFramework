# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Database —Å Debug Toolbar - –†–µ–∑—é–º–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

## –î–∞—Ç–∞: 2025-10-03

## üéØ –¶–µ–ª—å

–ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è `DatabaseManager` —Å `Debug Toolbar` –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏ –∞–Ω–∞–ª–∏–∑–∞ –≤—Å–µ—Ö SQL –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.

## ‚úÖ –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –û–±–Ω–æ–≤–ª–µ–Ω DatabaseManager (`core/Database/DatabaseManager.php`)

#### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ

```php
public function __construct(array $config)
{
    // ...
    
    // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º QueryDebugger –¥–ª—è Debug Toolbar
    if (class_exists('\Core\QueryDebugger')) {
        if (isset($config['slow_query_threshold'])) {
            \Core\QueryDebugger::setSlowQueryThreshold((float)$config['slow_query_threshold']);
        }
    }
}
```

#### –û–±–Ω–æ–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `run()`

–¢–µ–ø–µ—Ä—å –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã—Ö —Å—Ç—Ä–æ–∫ –∏ –ø–µ—Ä–µ–¥–∞–µ—Ç –∏—Ö –≤ `logQuery()`:

```php
protected function run(string $query, array $bindings, callable $callback)
{
    $start = microtime(true);
    $result = $callback($query, $bindings);
    $time = microtime(true) - $start;

    // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞—Ç—Ä–æ–Ω—É—Ç—ã—Ö —Å—Ç—Ä–æ–∫
    $rows = 0;
    if (is_array($result)) {
        $rows = count($result);
    } elseif (is_int($result)) {
        $rows = $result;
    }

    // –õ–æ–≥–∏—Ä—É–µ–º —É—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—Ä–æ—Å
    $this->logQuery($query, $bindings, $time, null, $rows);

    return $result;
}
```

#### –û–±–Ω–æ–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `logQuery()`

–î–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `QueryDebugger`:

```php
protected function logQuery(string $query, array $bindings, float $time, ?string $error = null, int $rows = 0): void
{
    $timeMs = round($time * 1000, 2);
    
    // –í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
    if ($this->loggingQueries) {
        $this->queryLog[] = [
            'query' => $query,
            'bindings' => $bindings,
            'time' => $timeMs,
            'error' => $error,
            'rows' => $rows,  // ‚Üê –¢–µ–ø–µ—Ä—å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫
            'timestamp' => date('Y-m-d H:i:s')
        ];
    }

    // –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å QueryDebugger –¥–ª—è Debug Toolbar
    if (class_exists('\Core\QueryDebugger')) {
        \Core\QueryDebugger::log(
            $query,
            $bindings,
            $timeMs,
            $rows
        );
    }
}
```

### 2. –û–±–Ω–æ–≤–ª–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (`config/database.php`)

–î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–æ–≤—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:

```php
return [
    'default' => env('DB_CONNECTION', 'sqlite'),

    /**
     * –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ SQL –∑–∞–ø—Ä–æ—Å–æ–≤
     * –í debug —Ä–µ–∂–∏–º–µ –≤—Å–µ–≥–¥–∞ –≤–∫–ª—é—á–µ–Ω–æ –¥–ª—è Debug Toolbar
     */
    'log_queries' => env('DB_LOG_QUERIES', true),

    /**
     * –ü–æ—Ä–æ–≥ –º–µ–¥–ª–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (–≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö)
     */
    'slow_query_threshold' => env('DB_SLOW_QUERY_THRESHOLD', 100),

    'connections' => [
        // ...
    ]
];
```

### 3. –£–ª—É—á—à–µ–Ω QueriesCollector (`core/DebugToolbar/Collectors/QueriesCollector.php`)

#### –û–±–Ω–æ–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `render()`

–î–æ–±–∞–≤–ª–µ–Ω–æ:
- ‚úÖ –ë–ª–æ–∫ —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π (total, time, avg, slow, duplicates, rows)
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ bindings –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
- ‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ caller (—Ñ–∞–π–ª –∏ —Å—Ç—Ä–æ–∫–∞)
- ‚úÖ –ü–æ–¥—Å–≤–µ—Ç–∫–∞ SQL —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞

#### –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `highlightSql()`

```php
private function highlightSql(string $sql): string
{
    $keywords = ['SELECT', 'FROM', 'WHERE', 'JOIN', ...];
    
    // –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ —Å–∏–Ω–∏–º —Ü–≤–µ—Ç–æ–º
    foreach ($keywords as $keyword) {
        $highlighted = preg_replace(
            '/\b(' . $keyword . ')\b/i',
            '<span style="color: #0066cc; font-weight: bold;">$1</span>',
            $highlighted
        );
    }
    
    return $highlighted;
}
```

## üìä –ß—Ç–æ —Ç–µ–ø–µ—Ä—å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ Debug Toolbar

### –í Header

```
üóÑÔ∏è 5 queries (1 slow)
```

### –í –ø–∞–Ω–µ–ª–∏ Queries

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞                                              ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Total: 5 queries    Time: 245.50ms    Avg: 49.10ms     ‚îÇ
‚îÇ ‚ö† Slow: 1 queries   ‚ö† Duplicates: 0   Rows: 150 total  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ #1                                 12.45ms    100 rows  ‚îÇ
‚îÇ SELECT * FROM users WHERE active = ?                    ‚îÇ
‚îÇ Bindings: [1]                                           ‚îÇ
‚îÇ üìç HomeController.php:52                                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ #2                          ‚ö† 150.30ms    5 rows        ‚îÇ
‚îÇ SELECT * FROM posts WHERE user_id = ?                   ‚îÇ
‚îÇ Bindings: [1]                                           ‚îÇ
‚îÇ üìç PostRepository.php:25                                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üîÑ –ü–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö

```
1. HomeController
   ‚Üì $this->db->table('users')->get()
   
2. DatabaseManager::run()
   ‚Üì –≤—ã–ø–æ–ª–Ω—è–µ—Ç –∑–∞–ø—Ä–æ—Å
   ‚Üì —Å—á–∏—Ç–∞–µ—Ç –≤—Ä–µ–º—è –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫
   ‚Üì logQuery($query, $bindings, $time, null, $rows)
   
3. DatabaseManager::logQuery()
   ‚Üì —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ $this->queryLog (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –ª–æ–≥)
   ‚Üì QueryDebugger::log($query, $bindings, $time, $rows)
   
4. QueryDebugger
   ‚Üì —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ static $queries
   ‚Üì –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç (–º–µ–¥–ª–µ–Ω–Ω—ã–µ, –¥—É–±–ª–∏–∫–∞—Ç—ã)
   ‚Üì getQueries(), getStats()
   
5. QueriesCollector::collect()
   ‚Üì $this->data['queries'] = QueryDebugger::getQueries()
   ‚Üì $this->data['stats'] = QueryDebugger::getStats()
   
6. QueriesCollector::render()
   ‚Üì —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç HTML —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π
   ‚Üì –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –≤ Debug Toolbar
```

## üìù –§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω–∏–π

```
core/
‚îú‚îÄ‚îÄ Database/
‚îÇ   ‚îî‚îÄ‚îÄ DatabaseManager.php          ‚Üê –û–±–Ω–æ–≤–ª–µ–Ω (logQuery, run, __construct)
‚îî‚îÄ‚îÄ DebugToolbar/
    ‚îî‚îÄ‚îÄ Collectors/
        ‚îî‚îÄ‚îÄ QueriesCollector.php     ‚Üê –£–ª—É—á—à–µ–Ω (render, highlightSql)

config/
‚îî‚îÄ‚îÄ database.php                      ‚Üê –û–±–Ω–æ–≤–ª–µ–Ω (log_queries, slow_query_threshold)

docs/
‚îî‚îÄ‚îÄ DatabaseDebugToolbarIntegration.md   ‚Üê –°–æ–∑–¥–∞–Ω (–ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
```

## üé® –í–∏–∑—É–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### –ú–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

- ‚ùå **–ö—Ä–∞—Å–Ω—ã–π —Ñ–æ–Ω** –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ > –ø–æ—Ä–æ–≥–∞
- ‚ö† **–ò–∫–æ–Ω–∫–∞ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è** –≤ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ
- üî¥ **–ö—Ä–∞—Å–Ω—ã–π —Ü–≤–µ—Ç –≤—Ä–µ–º–µ–Ω–∏**

### –ë—ã—Å—Ç—Ä—ã–µ –∑–∞–ø—Ä–æ—Å—ã

- ‚úÖ **–ë–µ–ª—ã–π —Ñ–æ–Ω**
- üü¢ **–ó–µ–ª–µ–Ω—ã–π —Ü–≤–µ—Ç –≤—Ä–µ–º–µ–Ω–∏**
- ‚úî **–ù–æ—Ä–º–∞–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ**

### –ü–æ–¥—Å–≤–µ—Ç–∫–∞ SQL

- üîµ **–°–∏–Ω–∏–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞** (SELECT, FROM, WHERE...)
- ‚ö´ **–ß–µ—Ä–Ω—ã–π —Ç–µ–∫—Å—Ç** –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω–æ–≥–æ

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### .env —Ñ–∞–π–ª

–î–æ–±–∞–≤–∏—Ç—å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):

```env
# Database Query Logging
DB_LOG_QUERIES=true
DB_SLOW_QUERY_THRESHOLD=100
```

### –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ

```php
// –ò–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä–æ–≥ –º–µ–¥–ª–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
QueryDebugger::setSlowQueryThreshold(200);

// –í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
$db->enableQueryLog();
$db->disableQueryLog();

// –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ
$queries = QueryDebugger::getQueries();
$stats = QueryDebugger::getStats();
$slowQueries = QueryDebugger::getSlowQueries();
$duplicates = QueryDebugger::getDuplicates();
```

## ‚ú® –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. **–ü–æ–ª–Ω–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å** - –≤–∏–¥–Ω—ã –≤—Å–µ SQL –∑–∞–ø—Ä–æ—Å—ã
2. **–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º** - –º–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∏ N+1
3. **Caller tracking** - –≤–∏–¥–Ω–æ, –æ—Ç–∫—É–¥–∞ –≤—ã–∑–≤–∞–Ω –∑–∞–ø—Ä–æ—Å
4. **–î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è** - bindings, –≤—Ä–µ–º—è, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫
5. **–ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞** - –ª–µ–≥—á–µ —á–∏—Ç–∞—Ç—å SQL
6. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** - –æ–±—â–µ–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –æ –Ω–∞–≥—Ä—É–∑–∫–µ –ë–î
7. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–±–æ—Ç–∞** - –≤–∫–ª—é—á–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ debug —Ä–µ–∂–∏–º–µ

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ—Å—Ç–æ –æ—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `APP_DEBUG=true`
2. –û—Ç–∫—Ä–æ–π—Ç–µ –ª—é–±—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
3. –í–Ω–∏–∑—É –ø–æ—è–≤–∏—Ç—Å—è Debug Toolbar
4. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "Queries" (üóÑÔ∏è)
5. –ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –∑–∞–ø—Ä–æ—Å—ã!

### –ü—Ä–∏–º–µ—Ä –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ N+1

**–î–æ (–ø–ª–æ—Ö–æ)**:
```php
$users = $this->db->table('users')->get();
foreach ($users as $user) {
    $posts = $this->db->table('posts')
        ->where('user_id', $user['id'])
        ->get();
}
// Debug Toolbar: 11 queries (10 duplicates)
```

**–ü–æ—Å–ª–µ (—Ö–æ—Ä–æ—à–æ)**:
```php
$users = $this->db->select('
    SELECT u.*, COUNT(p.id) as posts_count
    FROM users u
    LEFT JOIN posts p ON u.id = p.user_id
    GROUP BY u.id
');
// Debug Toolbar: 1 query
```

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

- ‚úÖ **–ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** DatabaseManager —Å Debug Toolbar
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ **–ö—Ä–∞—Å–∏–≤–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ** —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π
- ‚úÖ **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∞–Ω–∞–ª–∏–∑–∞** (–º–µ–¥–ª–µ–Ω–Ω—ã–µ, –¥—É–±–ª–∏–∫–∞—Ç—ã)
- ‚úÖ **Zero configuration** - —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑ –∫–æ—Ä–æ–±–∫–∏
- ‚úÖ **Production-safe** - –æ—Ç–∫–ª—é—á–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- `docs/DatabaseDebugToolbarIntegration.md` - –ø–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- `docs/DatabaseExamples.md` - –ø—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã —Å –ë–î
- `docs/QueryDebugger.md` - –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ QueryDebugger

---

**–¢–µ–ø–µ—Ä—å –æ—Ç–ª–∞–¥–∫–∞ SQL –∑–∞–ø—Ä–æ—Å–æ–≤ —Å—Ç–∞–ª–∞ –ø—Ä–æ—Å—Ç–æ–π –∏ —É–¥–æ–±–Ω–æ–π! üéâ**

