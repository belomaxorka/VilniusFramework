# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∫—ç—à–∞ —Å Debug Toolbar - Summary

## –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —Å Debug Toolbar –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π —Å –∫—ç—à–µ–º –≤ —Ä–µ–∂–∏–º–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏.

## –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ

### 1. AbstractCacheDriver

**–§–∞–π–ª:** `core/Cache/AbstractCacheDriver.php`

–î–æ–±–∞–≤–ª–µ–Ω–æ:
- –°–≤–æ–π—Å—Ç–≤–æ `$stats` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –æ–ø–µ—Ä–∞—Ü–∏–π
- –°–≤–æ–π—Å—Ç–≤–æ `$debugEnabled` –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- –ú–µ—Ç–æ–¥—ã `getStats()` –∏ `clearStats()`
- –ú–µ—Ç–æ–¥—ã –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:
  - `logGet()` - –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π —á—Ç–µ–Ω–∏—è (hit/miss)
  - `logSet()` - –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π –∑–∞–ø–∏—Å–∏
  - `logDelete()` - –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π —É–¥–∞–ª–µ–Ω–∏—è

### 2. ArrayDriver

**–§–∞–π–ª:** `core/Cache/Drivers/ArrayDriver.php`

–î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –º–µ—Ç–æ–¥—ã:
- `get()` - –ª–æ–≥–∏—Ä—É–µ—Ç HIT –∏–ª–∏ MISS
- `set()` - –ª–æ–≥–∏—Ä—É–µ—Ç WRITE
- `delete()` - –ª–æ–≥–∏—Ä—É–µ—Ç DELETE

### 3. FileDriver

**–§–∞–π–ª:** `core/Cache/Drivers/FileDriver.php`

–î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –º–µ—Ç–æ–¥—ã:
- `get()` - –ª–æ–≥–∏—Ä—É–µ—Ç HIT –∏–ª–∏ MISS
- `set()` - –ª–æ–≥–∏—Ä—É–µ—Ç WRITE
- `delete()` - –ª–æ–≥–∏—Ä—É–µ—Ç DELETE

### 4. CacheCollector (–æ–±–Ω–æ–≤–ª–µ–Ω)

**–§–∞–π–ª:** `core/DebugToolbar/Collectors/CacheCollector.php`

–£–ª—É—á—à–µ–Ω–æ:
- –î–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `getCurrentDriver()` –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –¥—Ä–∞–π–≤–µ—Ä–µ
- –û–±–Ω–æ–≤–ª–µ–Ω `render()` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥—Ä–∞–π–≤–µ—Ä–µ
- –û–±–Ω–æ–≤–ª–µ–Ω `getHeaderStats()` - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç hits/misses —Å —Ü–≤–µ—Ç–æ–≤–æ–π –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π
- –£–ª—É—á—à–µ–Ω–∞ —Ü–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è Hit Rate (–∑–µ–ª–µ–Ω—ã–π/–æ—Ä–∞–Ω–∂–µ–≤—ã–π/–∫—Ä–∞—Å–Ω—ã–π)

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –∫—ç—à–µ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –ø—Ä–∏ `APP_DEBUG=true`:

```php
Cache::set('user:1', $user);     // ‚Üí WRITE operation logged
$user = Cache::get('user:1');    // ‚Üí HIT operation logged  
$miss = Cache::get('user:999');  // ‚Üí MISS operation logged
Cache::delete('user:1');         // ‚Üí DELETE operation logged
```

### –ß—Ç–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ Debug Toolbar

1. **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –¥—Ä–∞–π–≤–µ—Ä–µ**
   ```
   Driver: file (file)
   ```

2. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–ø–µ—Ä–∞—Ü–∏–π**
   - Total - –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–ø–µ—Ä–∞—Ü–∏–π
   - Hits (–∑–µ–ª–µ–Ω—ã–π) - —É—Å–ø–µ—à–Ω—ã–µ —á—Ç–µ–Ω–∏—è
   - Misses (–æ—Ä–∞–Ω–∂–µ–≤—ã–π) - –ø—Ä–æ–º–∞—Ö–∏
   - Writes - –∑–∞–ø–∏—Å–∏
   - Deletes - —É–¥–∞–ª–µ–Ω–∏—è
   - Hit Rate (%) - –ø—Ä–æ—Ü–µ–Ω—Ç –ø–æ–ø–∞–¥–∞–Ω–∏–π —Å —Ü–≤–µ—Ç–æ–≤–æ–π –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π

3. **–°–ø–∏—Å–æ–∫ –æ–ø–µ—Ä–∞—Ü–∏–π**
   - –¢–∏–ø (HIT/MISS/WRITE/DELETE)
   - –ö–ª—é—á
   - –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–º—Å)
   - –ó–Ω–∞—á–µ–Ω–∏–µ (–¥–ª—è write/hit)

4. **Header Stats**
   ```
   üóÉÔ∏è 15 ops (10H/5M)
   ```

### –¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è

- **HIT** - #66bb6a (–∑–µ–ª–µ–Ω—ã–π)
- **MISS** - #ffa726 (–æ—Ä–∞–Ω–∂–µ–≤—ã–π)
- **WRITE** - #42a5f5 (—Å–∏–Ω–∏–π)
- **DELETE** - #ef5350 (–∫—Ä–∞—Å–Ω—ã–π)

**Hit Rate:**
- ‚â•80% - –∑–µ–ª–µ–Ω—ã–π (–æ—Ç–ª–∏—á–Ω–æ)
- 50-79% - –æ—Ä–∞–Ω–∂–µ–≤—ã–π (—Å—Ä–µ–¥–Ω–µ)
- <50% - –∫—Ä–∞—Å–Ω—ã–π (—Ç—Ä–µ–±—É–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è)

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### Overhead

–ü—Ä–∏ `APP_DEBUG=false` –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç–∫–ª—é—á–µ–Ω–æ - –Ω—É–ª–µ–≤–æ–π overhead.

–ü—Ä–∏ `APP_DEBUG=true` –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π overhead:
- ~0.01-0.05ms –Ω–∞ –æ–ø–µ—Ä–∞—Ü–∏—é –¥–ª—è —Å–±–æ—Ä–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö –º–µ—Ç–æ–¥–æ–≤ –¥–ª—è –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞—Ç—Ä–∞—Ç
- –ü—Ä–æ–≤–µ—Ä–∫–∞ `class_exists()` –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

1. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∫–ª—é—á–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ `APP_DEBUG=true`
2. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏ (–º–∞—Å—Å–∏–≤)
3. CacheCollector —É–∂–µ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω –≤ DebugToolbar
4. –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã –¥–ª—è –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä

```php
use Core\Cache;

Cache::set('key', 'value', 3600);
$value = Cache::get('key');
```

Debug Toolbar –ø–æ–∫–∞–∂–µ—Ç:
- 1 WRITE operation
- 1 HIT operation

### Remember Pattern

```php
$users = Cache::remember('users', 3600, fn() => 
    Database::table('users')->get()
);
```

–ü–µ—Ä–≤—ã–π –≤—ã–∑–æ–≤:
- 1 MISS operation
- 1 WRITE operation

–í—Ç–æ—Ä–æ–π –≤—ã–∑–æ–≤:
- 1 HIT operation

### –¢–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª

–°–æ–∑–¥–∞–Ω —Ñ–∞–π–ª `examples/cache_debug_test.php` –¥–ª—è –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏.

–ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –ø–æ–∫–∞–∂–µ—Ç Debug Toolbar —Å –ø–æ–ª–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π.

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- `docs/CacheDebugToolbar.md` - –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ `docs/Cache.md` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ —Å–µ–∫—Ü–∏—è Debug Toolbar
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ `docs/CacheQuickStart.md` - –¥–æ–±–∞–≤–ª–µ–Ω–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ Debug

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

1. **–í–∏–¥–∏–º–æ—Å—Ç—å** - –≤–∏–¥–Ω–æ –∫–∞–∂–¥—É—é –æ–ø–µ—Ä–∞—Ü–∏—é —Å –∫—ç—à–µ–º
2. **–û—Ç–ª–∞–¥–∫–∞** - –ª–µ–≥–∫–æ –Ω–∞–π—Ç–∏ –ø—Ä–æ–±–ª–µ–º—ã (–º–Ω–æ–≥–æ misses, –º–µ–¥–ª–µ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏)
3. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è** - –º–æ–∂–Ω–æ –æ—Ü–µ–Ω–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
4. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - Hit Rate –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ –∫—ç—à-—Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

### –î–ª—è production

1. **–ù–µ—Ç overhead** - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–∫–ª—é—á–µ–Ω–æ –ø—Ä–∏ APP_DEBUG=false
2. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ production
3. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –Ω–∏–∫–∞–∫–æ–≥–æ –≤–ª–∏—è–Ω–∏—è –Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç—å

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –í–∫–ª—é—á–µ–Ω–∏–µ

```env
APP_DEBUG=true
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ª—é–±—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –Ω–∞ Debug Toolbar –≤–Ω–∏–∑—É
3. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É "Cache" (üóÉÔ∏è)
4. –ò–∑—É—á–∏—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏ —Å–ø–∏—Å–æ–∫ –æ–ø–µ—Ä–∞—Ü–∏–π

### –ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

**–•–æ—Ä–æ—à–∏–π Hit Rate (‚â•80%)**
```
Total: 100
Hits: 85
Misses: 10
Writes: 5
Hit Rate: 89.5% ‚úì
```

**–¢—Ä–µ–±—É–µ—Ç –≤–Ω–∏–º–∞–Ω–∏—è (<50%)**
```
Total: 100
Hits: 30
Misses: 60
Writes: 10
Hit Rate: 33.3% !
```

## TODO –¥–ª—è –¥—Ä—É–≥–∏—Ö –¥—Ä–∞–π–≤–µ—Ä–æ–≤

–í –±—É–¥—É—â–µ–º –¥–æ–±–∞–≤–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤:
- [ ] RedisDriver
- [ ] ApcuDriver
- [ ] MemcachedDriver

–ü–æ –∞–Ω–∞–ª–æ–≥–∏–∏ —Å ArrayDriver –∏ FileDriver.

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –∫—ç—à–∞ —Å Debug Toolbar –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è:
- –†–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –æ—Ç–ª–∞–¥–∫–∏
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∫—ç—à–∞
- –û–±—É—á–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥—ã —Ä–∞–±–æ—Ç–µ —Å –∫—ç—à–µ–º

–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤–∏–¥–Ω—ã –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º overhead!

