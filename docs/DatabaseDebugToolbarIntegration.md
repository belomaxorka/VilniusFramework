# –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å Debug Toolbar

## –û–±–∑–æ—Ä

–ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è `DatabaseManager` —Å `Debug Toolbar` –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –≤—Å–µ—Ö SQL –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤—Å–µ—Ö SQL –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ Debug Toolbar** —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
- ‚úÖ **–û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –º–µ–¥–ª–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤** (> 100ms –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- ‚úÖ **–ü–æ–∏—Å–∫ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤** (N+1 –ø—Ä–æ–±–ª–µ–º—ã)
- ‚úÖ **–î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** (–≤—Ä–µ–º—è, —Å—Ç—Ä–æ–∫–∏, bindings)
- ‚úÖ **Caller tracking** - –≤–∏–¥–Ω–æ, –æ—Ç–∫—É–¥–∞ –±—ã–ª –≤—ã–∑–≤–∞–Ω –∑–∞–ø—Ä–æ—Å

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
DatabaseManager
    ‚Üì logQuery()
    ‚Üì
QueryDebugger
    ‚Üì getQueries()
    ‚Üì
QueriesCollector (Debug Toolbar)
    ‚Üì
–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ UI
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

1. **DatabaseManager** (`core/Database/DatabaseManager.php`)
   - –í—ã–ø–æ–ª–Ω—è–µ—Ç SQL –∑–∞–ø—Ä–æ—Å—ã
   - –õ–æ–≥–∏—Ä—É–µ—Ç —á–µ—Ä–µ–∑ `logQuery()`
   - –ü–µ—Ä–µ–¥–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ `QueryDebugger`

2. **QueryDebugger** (`core/QueryDebugger.php`)
   - –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –∑–∞–ø—Ä–æ—Å–æ–≤
   - –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –º–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
   - –û–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –¥—É–±–ª–∏–∫–∞—Ç—ã

3. **QueriesCollector** (`core/DebugToolbar/Collectors/QueriesCollector.php`)
   - –°–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ `QueryDebugger`
   - –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
   - –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –≤ Debug Toolbar

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### config/database.php

```php
return [
    // ...
    
    /**
     * –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ SQL –∑–∞–ø—Ä–æ—Å–æ–≤
     * –í debug —Ä–µ–∂–∏–º–µ –≤—Å–µ–≥–¥–∞ –≤–∫–ª—é—á–µ–Ω–æ –¥–ª—è Debug Toolbar
     */
    'log_queries' => env('DB_LOG_QUERIES', true),

    /**
     * –ü–æ—Ä–æ–≥ –º–µ–¥–ª–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (–≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö)
     */
    'slow_query_threshold' => env('DB_SLOW_QUERY_THRESHOLD', 100),
];
```

### .env

```env
# Database logging
DB_LOG_QUERIES=true
DB_SLOW_QUERY_THRESHOLD=100
```

## –ß—Ç–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è

### –í Header Toolbar

```
üóÑÔ∏è 5 queries (1 slow)
```

- –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–µ–¥–ª–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ (–µ—Å–ª–∏ –µ—Å—Ç—å)

### –í –ø–∞–Ω–µ–ª–∏ Queries

#### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

```
Total: 5 queries    Time: 245.50ms    Avg: 49.10ms
‚ö† Slow: 1 queries   ‚ö† Duplicates: 0   Rows: 150 total
```

#### –°–ø–∏—Å–æ–∫ –∑–∞–ø—Ä–æ—Å–æ–≤

–î–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞:

1. **–ù–æ–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞** - #1, #2, #3...
2. **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è** - —Å —Ü–≤–µ—Ç–æ–≤–æ–π –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π
   - –ó–µ–ª–µ–Ω—ã–π: –±—ã—Å—Ç—Ä—ã–π –∑–∞–ø—Ä–æ—Å
   - –ö—Ä–∞—Å–Ω—ã–π: –º–µ–¥–ª–µ–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å (> –ø–æ—Ä–æ–≥–∞)
3. **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫** - —Å–∫–æ–ª—å–∫–æ –≤–µ—Ä–Ω—É–ª –∑–∞–ø—Ä–æ—Å
4. **SQL –∑–∞–ø—Ä–æ—Å** - —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
5. **Bindings** - –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞
6. **Caller** - —Ñ–∞–π–ª –∏ —Å—Ç—Ä–æ–∫–∞, –æ—Ç–∫—É–¥–∞ –≤—ã–∑–≤–∞–Ω –∑–∞–ø—Ä–æ—Å

### –ü—Ä–∏–º–µ—Ä –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ #1                          12.45ms    100 rows  ‚îÇ
‚îÇ SELECT * FROM users WHERE active = ?             ‚îÇ
‚îÇ Bindings: [1]                                    ‚îÇ
‚îÇ üìç HomeController.php:52                         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ #2                          ‚ö† 150.30ms  5 rows   ‚îÇ
‚îÇ SELECT * FROM posts WHERE user_id = ?            ‚îÇ
‚îÇ Bindings: [1]                                    ‚îÇ
‚îÇ üìç PostRepository.php:25                         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 1. –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞

```php
// –í HomeController
$users = $this->db->table('users')->get();
```

### 2. DatabaseManager –ª–æ–≥–∏—Ä—É–µ—Ç

```php
protected function run(string $query, array $bindings, callable $callback)
{
    $start = microtime(true);
    $result = $callback($query, $bindings);
    $time = microtime(true) - $start;
    
    // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫
    $rows = is_array($result) ? count($result) : 0;
    
    // –õ–æ–≥–∏—Ä—É–µ–º
    $this->logQuery($query, $bindings, $time, null, $rows);
    
    return $result;
}
```

### 3. logQuery –ø–µ—Ä–µ–¥–∞–µ—Ç –≤ QueryDebugger

```php
protected function logQuery(/* ... */)
{
    // –í–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
    if ($this->loggingQueries) {
        $this->queryLog[] = [/* ... */];
    }

    // –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å QueryDebugger –¥–ª—è Debug Toolbar
    if (class_exists('\Core\QueryDebugger')) {
        \Core\QueryDebugger::log(
            $query,
            $bindings,
            $timeMs,
            $rows
        );
    }
}
```

### 4. QueriesCollector —Å–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ

```php
public function collect(): void
{
    $this->data['queries'] = QueryDebugger::getQueries();
    $this->data['stats'] = QueryDebugger::getStats();
}
```

### 5. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ UI

Debug Toolbar –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–µ–Ω–¥–µ—Ä–∏—Ç –≤–∫–ª–∞–¥–∫—É "Queries" —Å —Å–æ–±—Ä–∞–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏.

## –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞

SQL –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –ø–æ–¥—Å–≤–µ—á–∏–≤–∞—é—Ç—Å—è —Å–∏–Ω–∏–º:

- `SELECT`, `FROM`, `WHERE`, `JOIN`
- `INSERT`, `UPDATE`, `DELETE`
- `ORDER BY`, `GROUP BY`, `LIMIT`
- –ò —Ç.–¥.

## –ú–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

–ó–∞–ø—Ä–æ—Å—ã, –ø—Ä–µ–≤—ã—à–∞—é—â–∏–µ –ø–æ—Ä–æ–≥ (`slow_query_threshold`), –≤—ã–¥–µ–ª—è—é—Ç—Å—è:

- ‚ùå –ö—Ä–∞—Å–Ω—ã–π —Ñ–æ–Ω
- ‚ö† –ò–∫–æ–Ω–∫–∞ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
- –û—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ

### –ü—Ä–∏–º–µ—Ä

```php
// –≠—Ç–æ—Ç –∑–∞–ø—Ä–æ—Å –∑–∞–π–º–µ—Ç > 100ms –∏ –±—É–¥–µ—Ç –ø–æ–º–µ—á–µ–Ω –∫–∞–∫ –º–µ–¥–ª–µ–Ω–Ω—ã–π
$users = $this->db->select('
    SELECT u.*, COUNT(p.id) as posts_count 
    FROM users u 
    LEFT JOIN posts p ON u.id = p.user_id 
    WHERE u.created_at > ? 
    GROUP BY u.id
', [date('Y-m-d', strtotime('-1 year'))]);
```

## –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ (N+1)

QueryDebugger –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç –ø–æ–≤—Ç–æ—Ä—è—é—â–∏–µ—Å—è –∑–∞–ø—Ä–æ—Å—ã:

```php
// BAD: N+1 –ø—Ä–æ–±–ª–µ–º–∞
$users = $this->db->table('users')->get();

foreach ($users as $user) {
    // –≠—Ç–æ—Ç –∑–∞–ø—Ä–æ—Å –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è N —Ä–∞–∑!
    $posts = $this->db->table('posts')
        ->where('user_id', $user['id'])
        ->get();
}
```

–í Debug Toolbar –≤—ã —É–≤–∏–¥–∏—Ç–µ:
```
‚ö† Duplicates: 10 queries
```

## –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –≤ Production

–í production –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫–ª—é—á–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `Environment::isDebug()`:

```php
// –í QueryDebugger::log()
if (!Environment::isDebug() || !self::$enabled) {
    return;
}
```

## –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

### –í–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

```php
// –ß–µ—Ä–µ–∑ DatabaseManager
$db->enableQueryLog();
$db->disableQueryLog();

// –ß–µ—Ä–µ–∑ QueryDebugger
QueryDebugger::enable(false);
```

### –ü–æ–ª—É—á–∏—Ç—å –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ

```php
// –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã
$queries = QueryDebugger::getQueries();

// –¢–æ–ª—å–∫–æ –º–µ–¥–ª–µ–Ω–Ω—ã–µ
$slowQueries = QueryDebugger::getSlowQueries();

// –î—É–±–ª–∏–∫–∞—Ç—ã
$duplicates = QueryDebugger::getDuplicates();

// –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
$stats = QueryDebugger::getStats();
```

### –ò–∑–º–µ–Ω–∏—Ç—å –ø–æ—Ä–æ–≥ –º–µ–¥–ª–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

```php
// –í runtime
QueryDebugger::setSlowQueryThreshold(200); // 200ms

// –ò–ª–∏ —á–µ—Ä–µ–∑ –∫–æ–Ω—Ñ–∏–≥
// config/database.php
'slow_query_threshold' => 200,
```

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ debug —Ä–µ–∂–∏–º–µ
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π overhead (< 1ms –Ω–∞ –∑–∞–ø—Ä–æ—Å)
- –ù–µ –≤–ª–∏—è–µ—Ç –Ω–∞ production

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤

```php
// –î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ - 5 –∑–∞–ø—Ä–æ—Å–æ–≤
$users = $this->db->table('users')->get();
foreach ($users as $user) {
    $posts = $this->db->table('posts')
        ->where('user_id', $user['id'])
        ->get();
}

// Debug Toolbar –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç: 6 queries (5 duplicates)

// –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ - 1 –∑–∞–ø—Ä–æ—Å
$users = $this->db->table('users')
    ->select('u.*, COUNT(p.id) as posts_count')
    ->leftJoin('posts as p', 'u.id', '=', 'p.user_id')
    ->groupBy('u.id')
    ->get();

// Debug Toolbar –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç: 1 query
```

### 2. –ü–æ–∏—Å–∫ –º–µ–¥–ª–µ–Ω–Ω—ã—Ö —É—á–∞—Å—Ç–∫–æ–≤

```php
// –û—Ç–∫—Ä—ã–≤–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å –ø—Ä–æ–±–ª–µ–º–æ–π
// –°–º–æ—Ç—Ä–∏–º –≤ Debug Toolbar -> Queries
// –ù–∞—Ö–æ–¥–∏–º –º–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (–∫—Ä–∞—Å–Ω—ã–µ)
// –í–∏–¥–∏–º caller - –≥–¥–µ –≤—ã–∑–≤–∞–Ω –∑–∞–ø—Ä–æ—Å
// –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ–º —ç—Ç–æ—Ç —É—á–∞—Å—Ç–æ–∫ –∫–æ–¥–∞
```

### 3. –ê–Ω–∞–ª–∏–∑ bindings

```php
// –í Debug Toolbar –≤–∏–¥–∏–º:
// SELECT * FROM users WHERE email = ?
// Bindings: ["user@example.com"]

// –ú–æ–∂–µ–º –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è
```

## Troubleshooting

### –ù–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –∑–∞–ø—Ä–æ—Å—ã

**–ü—Ä–æ–±–ª–µ–º–∞**: –í–∫–ª–∞–¥–∫–∞ "Queries" –ø—É—Å—Ç–∞—è

**–†–µ—à–µ–Ω–∏–µ**:
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `APP_DEBUG=true` –≤ `.env`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `DB_LOG_QUERIES=true` –≤ `.env`
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∑–∞–ø—Ä–æ—Å—ã –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è

### –ù–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–¥—Å–≤–µ—Ç–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞

**–ü—Ä–æ–±–ª–µ–º–∞**: SQL –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –±–µ–∑ —Ü–≤–µ—Ç–æ–≤

**–†–µ—à–µ–Ω–∏–µ**: –ü–æ–¥—Å–≤–µ—Ç–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å—Ç–∏–ª–∏ –Ω–µ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã.

### –ú–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –Ω–µ –≤—ã–¥–µ–ª—è—é—Ç—Å—è

**–ü—Ä–æ–±–ª–µ–º–∞**: –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∑–µ–ª–µ–Ω—ã–µ, —Ö–æ—Ç—è –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –º–µ–¥–ª–µ–Ω–Ω—ã–µ

**–†–µ—à–µ–Ω–∏–µ**: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `DB_SLOW_QUERY_THRESHOLD` –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏. –í–æ–∑–º–æ–∂–Ω–æ, –ø–æ—Ä–æ–≥ —Å–ª–∏—à–∫–æ–º –≤—ã—Å–æ–∫–∏–π.

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è DatabaseManager —Å Debug Toolbar –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç:

- ‚úÖ –ü–æ–ª–Ω—É—é –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å SQL –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ –ü—Ä–æ—Å—Ç–æ—Ç—É –æ—Ç–ª–∞–¥–∫–∏
- ‚úÖ –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- ‚úÖ –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Debug Toolbar –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±—ã—Å—Ç—Ä—ã—Ö –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π! üöÄ

