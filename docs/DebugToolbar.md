# Debug Toolbar - –í–∏–∑—É–∞–ª—å–Ω–∞—è –ø–∞–Ω–µ–ª—å –æ—Ç–ª–∞–¥–∫–∏

## –û–±–∑–æ—Ä

Debug Toolbar - –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å –æ—Ç–ª–∞–¥–∫–∏, –æ–±—ä–µ–¥–∏–Ω—è—é—â–∞—è –≤—Å–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã debug —Å–∏—Å—Ç–µ–º—ã –≤ –µ–¥–∏–Ω–æ–º –≤–∏–∑—É–∞–ª—å–Ω–æ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ.

### –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- üìä **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏** - –≤—Ä–µ–º—è, –ø–∞–º—è—Ç—å, –∑–∞–ø—Ä–æ—Å—ã
- üìë **–í–∫–ª–∞–¥–∫–∏** - –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —Ä–∞–∑–Ω—ã–º —Ç–∏–ø–∞–º debug –¥–∞–Ω–Ω—ã—Ö
- üé® **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π UI** - –∫—Ä–∞—Å–∏–≤—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å —Ç–µ–º–Ω–æ–π —Ç–µ–º–æ–π
- üîÑ **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å** - —Å–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ, –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫
- üì± **–ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å** - —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- üöÄ **–õ–µ–≥–∫–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - –æ–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞ –∫–æ–¥–∞

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–î–æ–±–∞–≤—å—Ç–µ –≤ –∫–æ–Ω–µ—Ü –≤–∞—à–µ–≥–æ layout/template:

```php
<!-- –í –∫–æ–Ω—Ü–µ body, –ø–µ—Ä–µ–¥ </body> -->
<?= render_debug_toolbar() ?>
```

**–ì–æ—Ç–æ–≤–æ!** Toolbar –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—è–≤–∏—Ç—Å—è –≤–Ω–∏–∑—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

### –ß—Ç–æ –≤—ã —É–≤–∏–¥–∏—Ç–µ

**–ü–∞–Ω–µ–ª—å –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:**
- ‚è±Ô∏è **–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è** - –æ–±—â–µ–µ –≤—Ä–µ–º—è –∑–∞–ø—Ä–æ—Å–∞
- üíæ **–ü–∞–º—è—Ç—å** - —Ç–µ–∫—É—â–µ–µ –∏ –ø–∏–∫–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
- üóÑÔ∏è **SQL –∑–∞–ø—Ä–æ—Å—ã** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏ –≤—Ä–µ–º—è
- üìÅ **–ö–æ–Ω—Ç–µ–∫—Å—Ç—ã** - –∞–∫—Ç–∏–≤–Ω—ã–µ debug –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã
- üîç **Dumps** - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ debug –≤—ã–≤–æ–¥–æ–≤

### –í–∫–ª–∞–¥–∫–∏

1. **üìä Overview** - –æ–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –º–µ—Ç—Ä–∏–∫–∏
2. **üîç Dumps** - –≤—Å–µ dump() –∏ dump_pretty() –≤—ã–≤–æ–¥—ã
3. **üóÑÔ∏è Queries** - SQL –∑–∞–ø—Ä–æ—Å—ã —Å –≤—Ä–µ–º–µ–Ω–µ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
4. **‚è±Ô∏è Timers** - –∏–∑–º–µ—Ä–µ–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏
5. **üíæ Memory** - –ø—Ä–æ—Ñ–∏–ª—å –ø–∞–º—è—Ç–∏
6. **üìÅ Contexts** - debug –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

Debug Toolbar –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ `TemplateEngine::display()`:

```php
// –í –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–µ
public function index() 
{
    dump($data, 'User Data'); // –ë—É–¥–µ—Ç –≤ toolbar
    dump_pretty($config, 'Config'); // –ë—É–¥–µ—Ç –≤ toolbar
    
    return view('index', compact('data'));
    // Toolbar –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–∏—Ç—Å—è –ø–µ—Ä–µ–¥ </body>
}
```

**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é:** –≤—Å–µ –≤—ã–∑–æ–≤—ã `dump()`, `dd()`, –∏ —Ç.–¥. —Å–æ–±–∏—Ä–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è toolbar –∏ –ù–ï –≤—ã–≤–æ–¥—è—Ç—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ.

### –í —à–∞–±–ª–æ–Ω–∞—Ö (Templates)

–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ —Å–≤–æ–π —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä (–Ω–µ TemplateEngine):

```php
<!-- layout.php -->
<!DOCTYPE html>
<html>
<head>
    <title><?= $title ?></title>
</head>
<body>
    <?= $content ?>
    
    <!-- Debug Toolbar –≤ —Å–∞–º–æ–º –∫–æ–Ω—Ü–µ -->
    <?= render_debug_toolbar() ?>
</body>
</html>
```

### –ü—Ä–æ–≥—Ä–∞–º–º–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

```php
use Core\DebugToolbar;

// –í –∫–æ–Ω—Ü–µ –≤–∞—à–µ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞
echo DebugToolbar::render();
```

### –° –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –≤—ã–≤–æ–¥–æ–º

```php
// –í bootstrap –∏–ª–∏ Core::init()
\Core\Debug::registerShutdownHandler();

// Toolbar –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—Å—è –≤ –∫–æ–Ω—Ü–µ
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –í–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ

```php
use Core\DebugToolbar;

// –û—Ç–∫–ª—é—á–∏—Ç—å toolbar
DebugToolbar::enable(false);

// –í–∫–ª—é—á–∏—Ç—å –æ–±—Ä–∞—Ç–Ω–æ
DebugToolbar::enable(true);
```

### –ü–æ–∑–∏—Ü–∏—è (top | bottom)

```php
// –í–≤–µ—Ä—Ö—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã
DebugToolbar::setPosition('top');

// –í–Ω–∏–∑—É —Å—Ç—Ä–∞–Ω–∏—Ü—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
DebugToolbar::setPosition('bottom');
```

### –°–≤–µ—Ä–Ω—É—Ç—å –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

```php
// Toolbar –±—É–¥–µ—Ç —Å–≤–µ—Ä–Ω—É—Ç –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
DebugToolbar::setCollapsed(true);

// –†–∞–∑–≤–µ—Ä–Ω—É—Ç (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
DebugToolbar::setCollapsed(false);
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—ã–≤–æ–¥–æ–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ

```php
use Core\Debug;

// –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: dumps —Ç–æ–ª—å–∫–æ –≤ toolbar
dump($data); // –¢–æ–ª—å–∫–æ –≤ toolbar

// –í–∫–ª—é—á–∏—Ç—å –≤—ã–≤–æ–¥ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ò –≤ toolbar
Debug::setRenderOnPage(true);
// –∏–ª–∏
debug_render_on_page(true);

dump($data); // –¢–µ–ø–µ—Ä—å –∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ, –∏ –≤ toolbar

// –û—Ç–∫–ª—é—á–∏—Ç—å –æ–±—Ä–∞—Ç–Ω–æ
Debug::setRenderOnPage(false);
```

## –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å

### –°–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ/—Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ

–ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∑–∞–≥–æ–ª–æ–≤–æ–∫ toolbar —á—Ç–æ–±—ã —Å–≤–µ—Ä–Ω—É—Ç—å/—Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—å –ø–∞–Ω–µ–ª—å.

### –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫

–ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É —á—Ç–æ–±—ã –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é –ø–∞–Ω–µ–ª—å.

### –ë–µ–π–¥–∂–∏

–í–∫–ª–∞–¥–∫–∏ —Å –¥–∞–Ω–Ω—ã–º–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ badge:
- üîç Dumps **[5]** - 5 dump –≤—ã–≤–æ–¥–æ–≤
- üóÑÔ∏è Queries **[12]** - 12 SQL –∑–∞–ø—Ä–æ—Å–æ–≤
- üìÅ Contexts **[3]** - 3 –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞

## –í–∫–ª–∞–¥–∫–∏ –≤ –¥–µ—Ç–∞–ª—è—Ö

### üìä Overview

–û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–ø—Ä–æ—Å–∞:

```
‚ö° Performance
- Total Time: 125.45ms
- Query Time: 75.20ms

üíæ Memory  
- Current: 8.5 MB
- Peak: 12.3 MB

üóÑÔ∏è Database
- Queries: 15
- Slow: 2

üêõ Debug
- Dumps: 5
- Contexts: 3
```

### üîç Dumps

–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ `dump()` –∏ `dump_pretty()` –≤—ã–≤–æ–¥—ã:

```php
dump($user, 'User Data');
dump_pretty($config, 'Config');

// –û—Ç–æ–±—Ä–∞–∑–∏—Ç—Å—è –≤ Dumps –≤–∫–ª–∞–¥–∫–µ
```

### üóÑÔ∏è Queries

SQL –∑–∞–ø—Ä–æ—Å—ã —Å –¥–µ—Ç–∞–ª—è–º–∏:

- –ù–æ–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞
- SQL —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
- –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (—Ü–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è)
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫
- Bindings
- –ò—Å—Ç–æ—á–Ω–∏–∫ (—Ñ–∞–π–ª:—Å—Ç—Ä–æ–∫–∞)

**–¶–≤–µ—Ç–∞:**
- üü¢ –ó–µ–ª–µ–Ω—ã–π - –±—ã—Å—Ç—Ä—ã–π –∑–∞–ø—Ä–æ—Å
- üî¥ –ö—Ä–∞—Å–Ω—ã–π - –º–µ–¥–ª–µ–Ω–Ω—ã–π –∑–∞–ø—Ä–æ—Å

### ‚è±Ô∏è Timers

–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–∞–π–º–µ—Ä–∞—Ö (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `timer_dump()` –¥–ª—è –≤—ã–≤–æ–¥–∞).

### üíæ Memory

–ü—Ä–æ—Ñ–∏–ª—å –ø–∞–º—è—Ç–∏ (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `memory_dump()` –¥–ª—è –≤—ã–≤–æ–¥–∞).

### üìÅ Contexts

–ê–∫—Ç–∏–≤–Ω—ã–µ debug –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã —Å:
- –ò–∫–æ–Ω–∫–æ–π –∏ –Ω–∞–∑–≤–∞–Ω–∏–µ–º
- –¶–≤–µ—Ç–æ–≤—ã–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–º
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ–º items

## API Reference

### DebugToolbar::render(): string
–†–µ–Ω–¥–µ—Ä–∏—Ç toolbar HTML.

```php
$html = DebugToolbar::render();
echo $html;
```

### DebugToolbar::enable(bool $enabled = true): void
–í–∫–ª—é—á–∞–µ—Ç/–≤—ã–∫–ª—é—á–∞–µ—Ç toolbar.

```php
DebugToolbar::enable(false);
```

### DebugToolbar::setPosition(string $position): void
–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–æ–∑–∏—Ü–∏—é ('top' | 'bottom').

```php
DebugToolbar::setPosition('top');
```

### DebugToolbar::setCollapsed(bool $collapsed): void
–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (—Å–≤–µ—Ä–Ω—É—Ç/—Ä–∞–∑–≤–µ—Ä–Ω—É—Ç).

```php
DebugToolbar::setCollapsed(true);
```

### render_debug_toolbar(): string
Helper —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞.

```php
echo render_debug_toolbar();
```

## –ü—Ä–∏–º–µ—Ä—ã

### –ü—Ä–∏–º–µ—Ä 1: –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

```php
// layout/main.php
<!DOCTYPE html>
<html>
<head>
    <title>My App</title>
</head>
<body>
    <header>...</header>
    <main><?= $content ?></main>
    <footer>...</footer>
    
    <?= render_debug_toolbar() ?>
</body>
</html>
```

### –ü—Ä–∏–º–µ—Ä 2: –° –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏

```php
// bootstrap.php
use Core\DebugToolbar;

if (is_dev()) {
    DebugToolbar::enable(true);
    DebugToolbar::setPosition('bottom');
    DebugToolbar::setCollapsed(false);
}
```

### –ü—Ä–∏–º–µ—Ä 3: –£—Å–ª–æ–≤–Ω—ã–π –≤—ã–≤–æ–¥

```php
// –í template
<?php if (is_dev()): ?>
    <?= render_debug_toolbar() ?>
<?php endif; ?>
```

### –ü—Ä–∏–º–µ—Ä 4: –ê–Ω–∞–ª–∏–∑ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

```php
// Controller
public function index() 
{
    // Debug –∑–∞–ø—Ä–æ—Å—ã
    context_run('database', function() {
        $users = query_measure(fn() => User::all(), 'Load Users');
        $posts = query_measure(fn() => Post::all(), 'Load Posts');
    });
    
    // Debug –ø–∞–º—è—Ç—å
    memory_snapshot('before_render');
    $view = view('index', compact('users', 'posts'));
    memory_snapshot('after_render');
    
    // –í—Å–µ –¥–∞–Ω–Ω—ã–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ toolbar!
    return $view;
}
```

**Toolbar –ø–æ–∫–∞–∂–µ—Ç:**
- –û–±—â–µ–µ –≤—Ä–µ–º—è –∑–∞–ø—Ä–æ—Å–∞
- 2 SQL –∑–∞–ø—Ä–æ—Å–∞ –≤ –≤–∫–ª–∞–¥–∫–µ Queries
- 2 memory snapshots
- Database context

### –ü—Ä–∏–º–µ—Ä 5: Performance Monitoring

```php
context_run('performance', function() {
    timer_start('total');
    memory_start();
    
    // –í–∞—à –∫–æ–¥
    processHeavyTask();
    
    timer_stop('total');
    timer_dump();
    memory_dump();
});

// Toolbar –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–∫–∞–∂–µ—Ç:
// - –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤ Timers
// - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ –≤ Memory
// - –ö–æ–Ω—Ç–µ–∫—Å—Ç performance –≤ Contexts
```

## –í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã

### –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞

**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**
- üü¢ < 1000ms - –Ω–æ—Ä–º–∞–ª—å–Ω–æ
- üî¥ > 1000ms - –º–µ–¥–ª–µ–Ω–Ω–æ

**–ü–∞–º—è—Ç—å:**
- üü¢ < 50% –ª–∏–º–∏—Ç–∞ - –Ω–æ—Ä–º–∞–ª—å–Ω–æ
- üü† 50-75% –ª–∏–º–∏—Ç–∞ - –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
- üî¥ > 75% –ª–∏–º–∏—Ç–∞ - –∫—Ä–∏—Ç–∏—á–Ω–æ

**SQL –∑–∞–ø—Ä–æ—Å—ã:**
- üü¢ –ù–µ—Ç –º–µ–¥–ª–µ–Ω–Ω—ã—Ö - —Ö–æ—Ä–æ—à–æ
- üî¥ –ï—Å—Ç—å –º–µ–¥–ª–µ–Ω–Ω—ã–µ - –Ω—É–∂–Ω–∞ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

### –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

Toolbar –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ:

```
üóÑÔ∏è 15 queries (3 slow)  ‚Üê ‚ö†Ô∏è –ú–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
```

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥—Ä—É–≥–∏–º–∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏

### –° Query Debugger

```php
query_log('SELECT * FROM users', [], 25.0, 100);
query_log('SELECT * FROM posts', [], 15.0, 50);

// Toolbar –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–∫–∞–∂–µ—Ç –≤ Queries –≤–∫–ª–∞–¥–∫–µ
```

### –° Debug Contexts

```php
context_run('api', function() {
    dump('API Request');
});

// Toolbar –ø–æ–∫–∞–∂–µ—Ç:
// - 1 dump –≤ Dumps
// - 1 context –≤ Contexts
```

### –° Timers –∏ Memory

```php
timer_start('task');
memory_start();

// ... –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

timer_stop('task');
timer_dump(); // ‚Üí –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—Å—è –≤ Timers –≤–∫–ª–∞–¥–∫–µ

memory_dump(); // ‚Üí –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—Å—è –≤ Memory –≤–∫–ª–∞–¥–∫–µ
```

### –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –ø—Ä–∏–º–µ—Ä

```php
context_run('request', function() {
    timer_start('total');
    memory_start();
    
    // Database
    context_run('database', function() {
        $data = query_measure(fn() => loadData(), 'Load Data');
    });
    
    // Processing
    context_run('business', function() use ($data) {
        dump($data, 'Loaded Data');
        processData($data);
        memory_snapshot('after_process');
    });
    
    timer_stop('total');
    memory_dump();
});

// Toolbar –ø–æ–∫–∞–∂–µ—Ç –í–°–ï:
// - Overview: –≤—Ä–µ–º—è, –ø–∞–º—è—Ç—å, –∑–∞–ø—Ä–æ—Å—ã
// - Dumps: –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
// - Queries: SQL –∑–∞–ø—Ä–æ—Å
// - Timers: –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
// - Memory: –ø—Ä–æ—Ñ–∏–ª—å –ø–∞–º—è—Ç–∏
// - Contexts: request, database, business
```

## –°–æ–≤–µ—Ç—ã –∏ Best Practices

### 1. –í—Å–µ–≥–¥–∞ –¥–æ–±–∞–≤–ª—è–π—Ç–µ toolbar –≤ layout

```php
<!-- –í –±–∞–∑–æ–≤–æ–º layout -->
<?= render_debug_toolbar() ?>
```

### 2. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–æ–ª—å–∫–æ –≤ development

```php
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ—Ç–∫–ª—é—á–∞–µ—Ç—Å—è –≤ production
Environment::set(Environment::PRODUCTION);
render_debug_toolbar(); // –≤–µ—Ä–Ω–µ—Ç ''
```

### 3. –ö–æ–º–±–∏–Ω–∏—Ä—É–π—Ç–µ —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞–º–∏

```php
context_run('page_load', function() {
    // –≤–µ—Å—å –∫–æ–¥ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
});

// Toolbar –ø–æ–∫–∞–∂–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏
```

### 4. –ê–Ω–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ SQL –≤ Queries –≤–∫–ª–∞–¥–∫–µ

–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤
- –ú–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (–∫—Ä–∞—Å–Ω—ã–º)
- –î—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è –ø–∞—Ç—Ç–µ—Ä–Ω—ã (N+1)

### 5. –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ø–∞–º—è—Ç—å –≤ Overview

–°–ª–µ–¥–∏—Ç–µ –∑–∞:
- Peak Memory
- –ü—Ä–æ—Ü–µ–Ω—Ç –æ—Ç –ª–∏–º–∏—Ç–∞
- –†–µ–∑–∫–∏–µ —Å–∫–∞—á–∫–∏ (memory leaks)

## Production Mode

–í production —Ä–µ–∂–∏–º–µ Toolbar **–ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç–∫–ª—é—á–µ–Ω**:

```php
// –í production
Environment::set(Environment::PRODUCTION);

render_debug_toolbar(); // –≤–µ—Ä–Ω–µ—Ç ''
DebugToolbar::render();  // –≤–µ—Ä–Ω–µ—Ç ''
```

–≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç:
- ‚ö° –ù–æ–ª—å –æ–≤–µ—Ä—Ö–µ–¥–∞
- üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (–Ω–µ—Ç —É—Ç–µ—á–∫–∏ –¥–∞–Ω–Ω—ã—Ö)
- üé® –ß–∏—Å—Ç—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

## Troubleshooting

### Toolbar –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è

**–ü—Ä–æ–±–ª–µ–º–∞:** Toolbar –Ω–µ –≤–∏–¥–µ–Ω –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ

**–†–µ—à–µ–Ω–∏–µ:**
```php
// 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∂–∏–º
var_dump(Environment::isDevelopment()); // true?

// 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤–∫–ª—é—á–µ–Ω
DebugToolbar::enable(true);

// 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤—ã–∑–æ–≤
echo render_debug_toolbar();
```

### Toolbar –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç

**–ü—Ä–æ–±–ª–µ–º–∞:** Toolbar –∑–∞–∫—Ä—ã–≤–∞–µ—Ç —á–∞—Å—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—ã

**–†–µ—à–µ–Ω–∏–µ:**
```php
// –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç–µ –Ω–∞–≤–µ—Ä—Ö
DebugToolbar::setPosition('top');

// –ò–ª–∏ —Å–≤–µ—Ä–Ω–∏—Ç–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
DebugToolbar::setCollapsed(true);
```

### –í–∫–ª–∞–¥–∫–∏ –ø—É—Å—Ç—ã–µ

**–ü—Ä–æ–±–ª–µ–º–∞:** –í –≤–∫–ª–∞–¥–∫–∞—Ö "No data"

**–†–µ—à–µ–Ω–∏–µ:**
```php
// –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ debug —Ñ—É–Ω–∫—Ü–∏–∏ –î–û —Ä–µ–Ω–¥–µ—Ä–∞ toolbar

dump($data);           // –î–û
query_log(...);        // –î–û
render_debug_toolbar(); // –ü–û–°–õ–ï
```

### JavaScript –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ü—Ä–æ–±–ª–µ–º–∞:** –ö–ª–∏–∫–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç

**–†–µ—à–µ–Ω–∏–µ:**
–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ toolbar —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é (—Å–æ —Å–∫—Ä–∏–ø—Ç–∞–º–∏):
```php
// –ù–ï —ç–∫—Ä–∞–Ω–∏—Ä—É–π—Ç–µ –≤—ã–≤–æ–¥!
<?= render_debug_toolbar() ?> // ‚úÖ

<?= htmlspecialchars(render_debug_toolbar()) ?> // ‚ùå
```

## FAQ

**Q: –ú–æ–≥—É –ª–∏ —è –∫–∞—Å—Ç–æ–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –≤–Ω–µ—à–Ω–∏–π –≤–∏–¥?**

A: –î–∞, toolbar –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç inline styles. –í—ã –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å CSS –ø–æ—Å–ª–µ —Ä–µ–Ω–¥–µ—Ä–∞:
```php
<?= render_debug_toolbar() ?>
<style>
#debug-toolbar { /* –≤–∞—à–∏ —Å—Ç–∏–ª–∏ */ }
</style>
```

**Q: Toolbar —Ä–∞–±–æ—Ç–∞–µ—Ç —Å AJAX?**

A: Toolbar –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Ç–µ–∫—É—â–µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞. –î–ª—è AJAX –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–π –≤—ã–≤–æ–¥ –∏–ª–∏ Dump Server.

**Q: –ú–æ–∂–Ω–æ –ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞ API endpoints?**

A: –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è. –î–ª—è API –ª—É—á—à–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–ª–∏ –æ—Ç–¥–µ–ª—å–Ω—ã–π debug endpoint.

**Q: Toolbar –∑–∞–º–µ–¥–ª—è–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ?**

A: –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ, —Ç–æ–ª—å–∫–æ –≤ dev —Ä–µ–∂–∏–º–µ. –í production –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—Ç–∫–ª—é—á–µ–Ω (0 –æ–≤–µ—Ä—Ö–µ–¥–∞).

**Q: –ö–∞–∫ —Å–∫—Ä—ã—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –≤–∫–ª–∞–¥–∫—É?**

A: –°–µ–π—á–∞—Å –Ω–µ–ª—å–∑—è, –Ω–æ –º–æ–∂–Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç (–Ω–∞–ø—Ä. –Ω–µ –≤—ã–∑—ã–≤–∞—Ç—å query_log).

**Q: Toolbar –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É–µ—Ç —Å –¥—Ä—É–≥–∏–º–∏ –ø–∞–Ω–µ–ª—è–º–∏?**

A: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ setPosition() —á—Ç–æ–±—ã —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –≤ —É–¥–æ–±–Ω–æ–º –º–µ—Å—Ç–µ.

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

Debug Toolbar - —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –æ—Ç–ª–∞–¥–∫–∏, –æ–±—ä–µ–¥–∏–Ω—è—é—â–∏–π:

- ‚úÖ –í—Å–µ debug –¥–∞–Ω–Ω—ã–µ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
- ‚úÖ –ö—Ä–∞—Å–∏–≤—ã–π –∏ —É–¥–æ–±–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚úÖ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±–æ—Ä –º–µ—Ç—Ä–∏–∫
- ‚úÖ –õ–µ–≥–∫—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Debug Toolbar –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –æ—Ç–ª–∞–¥–∫–∏! üêõüé®
