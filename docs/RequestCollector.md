# Request Collector

Request Collector - —ç—Ç–æ –∫–æ–ª–ª–µ–∫—Ç–æ—Ä –¥–ª—è Debug Toolbar, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–±–∏—Ä–∞–µ—Ç –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –ø–æ–ª–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ HTTP-–∑–∞–ø—Ä–æ—Å–µ.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

Request Collector –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞–µ—Ç —Å–ª–µ–¥—É—é—â—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–∞–∂–¥–æ–º –∑–∞–ø—Ä–æ—Å–µ:

### 1. –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–ø—Ä–æ—Å–µ
- **HTTP –º–µ—Ç–æ–¥** (GET, POST, PUT, DELETE, etc.)
- **URI** - –ø—É—Ç—å –∑–∞–ø—Ä–æ—Å–∞
- **Full URL** - –ø–æ–ª–Ω—ã–π URL —Å –ø—Ä–æ—Ç–æ–∫–æ–ª–æ–º –∏ —Ö–æ—Å—Ç–æ–º
- **Protocol** - –≤–µ—Ä—Å–∏—è HTTP –ø—Ä–æ—Ç–æ–∫–æ–ª–∞
- **Remote Address** - IP-–∞–¥—Ä–µ—Å –∫–ª–∏–µ–Ω—Ç–∞ (—Å —É—á–µ—Ç–æ–º proxy)
- **Request Time** - –≤—Ä–µ–º—è –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞

### 2. GET –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
–û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ –≤ query string.

### 3. POST –¥–∞–Ω–Ω—ã–µ
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ, –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ POST-–∑–∞–ø—Ä–æ—Å.

### 4. –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
–ï—Å–ª–∏ –≤ –∑–∞–ø—Ä–æ—Å–µ –±—ã–ª–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã —Ñ–∞–π–ª—ã, –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Ç–∞–±–ª–∏—Ü–∞ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π:
- –ò–º—è —Ñ–∞–π–ª–∞
- MIME —Ç–∏–ø
- –†–∞–∑–º–µ—Ä
- –°—Ç–∞—Ç—É—Å –∑–∞–≥—Ä—É–∑–∫–∏ (—É—Å–ø–µ—Ö/–æ—à–∏–±–∫–∞)
- –í—Ä–µ–º–µ–Ω–Ω–æ–µ –∏–º—è —Ñ–∞–π–ª–∞

### 5. Cookies
–°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö cookies, –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–º.

### 6. HTTP Headers
–í—Å–µ HTTP –∑–∞–≥–æ–ª–æ–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–∞.

### 7. Server Variables
–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã (—Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö).

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

Request Collector –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ Debug Toolbar –∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç

Request Collector –∏–º–µ–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç `90`, —á—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –æ–Ω –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –æ–¥–Ω–∏–º –∏–∑ –ø–µ—Ä–≤—ã—Ö –ø–æ—Å–ª–µ Overview (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç 100).

### Badge

–í –∑–∞–≥–æ–ª–æ–≤–∫–µ –≤–∫–ª–∞–¥–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è HTTP-–º–µ—Ç–æ–¥ –∑–∞–ø—Ä–æ—Å–∞ —Å —Ü–≤–µ—Ç–æ–≤–æ–π –∫–æ–¥–∏—Ä–æ–≤–∫–æ–π:
- üü¢ **GET** - –∑–µ–ª–µ–Ω—ã–π
- üîµ **POST** - —Å–∏–Ω–∏–π
- üü† **PUT** - –æ—Ä–∞–Ω–∂–µ–≤—ã–π
- üü£ **PATCH** - —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–π
- üî¥ **DELETE** - –∫—Ä–∞—Å–Ω—ã–π
- ‚ö´ **–î—Ä—É–≥–∏–µ** - —Å–µ—Ä—ã–π

### Header Stats

–í —à–∞–ø–∫–µ toolbar –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫—Ä–∞—Ç–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è: HTTP-–º–µ—Ç–æ–¥ –∏ –ø—É—Ç—å –∑–∞–ø—Ä–æ—Å–∞.

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

Request Collector –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –º–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—É—é –∑–∞—â–∏—Ç—É —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:

### –í –ª—é–±–æ–º —Ä–µ–∂–∏–º–µ (Development/Production)

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫—Ä—ã–≤–∞—é—Ç—Å—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ:
- `PHP_AUTH_PW` ‚Üí `***HIDDEN***`
- `PHP_AUTH_USER` ‚Üí `***HIDDEN***`
- `HTTP_AUTHORIZATION` ‚Üí `***HIDDEN***`
- `DATABASE_URL` ‚Üí `***HIDDEN***`
- `DB_PASSWORD` ‚Üí `***HIDDEN***`
- `API_KEY` ‚Üí `***HIDDEN***`
- `SECRET_KEY` ‚Üí `***HIDDEN***`

–ò –ª—é–±—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ, —Å–æ–¥–µ—Ä–∂–∞—â–∏–µ –≤ –∏–º–µ–Ω–∏: `PASSWORD`, `SECRET`, `TOKEN`, `KEY`, `AUTH`, `CREDENTIAL`

### –í Production —Ä–µ–∂–∏–º–µ

–í production —Ä–µ–∂–∏–º–µ (`APP_ENV=production`) –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∑–∞—â–∏—Ç–∞:

üîí **Server Variables —Å–∫—Ä—ã—Ç—ã** (–∫—Ä–æ–º–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö):
- –ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ: `REQUEST_METHOD`, `REQUEST_URI`, `REQUEST_TIME`, `SERVER_PROTOCOL`
- –í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ: `***HIDDEN (PRODUCTION MODE)***`
- –í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è: –∫—Ä–∞—Å–Ω—ã–π badge "üîí PRODUCTION MODE"
- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–∞—é—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ —Ç–∞–±–ª–∏—Ü–µ–π

–ü–æ–¥—Ä–æ–±–Ω–µ–µ: [Request Collector Security](RequestCollectorSecurity.md)

## –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ IP-–∞–¥—Ä–µ—Å–∞

Collector –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ä–µ–∞–ª—å–Ω—ã–π IP-–∞–¥—Ä–µ—Å –∫–ª–∏–µ–Ω—Ç–∞ –¥–∞–∂–µ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –ø—Ä–æ–∫—Å–∏-—Å–µ—Ä–≤–µ—Ä–æ–≤ –∏–ª–∏ –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫–æ–≤ –Ω–∞–≥—Ä—É–∑–∫–∏, –ø—Ä–æ–≤–µ—Ä—è—è —Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –≤ –ø–æ—Ä—è–¥–∫–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞:
1. `HTTP_CLIENT_IP`
2. `HTTP_X_FORWARDED_FOR`
3. `HTTP_X_FORWARDED`
4. `HTTP_X_CLUSTER_CLIENT_IP`
5. `HTTP_FORWARDED_FOR`
6. `HTTP_FORWARDED`
7. `REMOTE_ADDR`

## –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–æ—Ç–æ–∫–æ–ª–∞ (HTTP/HTTPS)

Collector –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç HTTPS —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è, –ø—Ä–æ–≤–µ—Ä—è—è:
- –ü–µ—Ä–µ–º–µ–Ω–Ω—É—é `$_SERVER['HTTPS']`
- –ü–æ—Ä—Ç (443 = HTTPS)
- –ó–∞–≥–æ–ª–æ–≤–æ–∫ `HTTP_X_FORWARDED_PROTO`

## –ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞

```
üåê Request Information

üìã Basic Info
Method: [GET]
URI: /user/john
Full URL: http://localhost/user/john
Protocol: HTTP/1.1
Remote Address: 127.0.0.1
Request Time: 2025-09-30 10:30:45

üìã GET Parameters (2)
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Key    ‚îÇ Value   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ page   ‚îÇ 1       ‚îÇ
‚îÇ limit  ‚îÇ 10      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

üìã POST Parameters
No POST data

üìã Cookies (1)
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Key        ‚îÇ Value       ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ session_id ‚îÇ abc123xyz   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

Request Collector –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ `Core\DebugToolbar` –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ Debug —Ä–µ–∂–∏–º–∞.

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

Request Collector –∏–º–µ–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –≤–ª–∏—è–Ω–∏–µ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, —Ç–∞–∫ –∫–∞–∫:
- –°–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —Ç–æ–ª—å–∫–æ –≤ Debug —Ä–µ–∂–∏–º–µ
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å—É–ø–µ—Ä–≥lobals (`$_GET`, `$_POST`, `$_SERVER`, etc.)
- –ù–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ç—è–∂–µ–ª—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π –∏–ª–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –ë–î

## –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

–ß—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ Request Collector:

```php
use Core\DebugToolbar;

$collector = DebugToolbar::getCollector('request');
if ($collector) {
    // –ú–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
}
```

## API

### –ü—É–±–ª–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã

- `getName()` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `'request'`
- `getTitle()` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `'Request'`
- `getIcon()` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `'üåê'`
- `getBadge()` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç HTTP-–º–µ—Ç–æ–¥
- `getPriority()` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `90`
- `collect()` - —Å–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ –∑–∞–ø—Ä–æ—Å–µ
- `render()` - –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç HTML –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
- `getHeaderStats()` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –¥–ª—è header toolbar

## –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

Request Collector —Å–æ–≤–º–µ—Å—Ç–∏–º —Å:
- PHP 8.0+
- –õ—é–±—ã–º–∏ –≤–µ–±-—Å–µ—Ä–≤–µ—Ä–∞–º–∏ (Apache, Nginx, etc.)
- FastCGI, PHP-FPM, –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä PHP

## –°–º. —Ç–∞–∫–∂–µ

- [Debug Toolbar](DebugToolbar.md)
- [Debug Quick Start](DebugQuickStart.md)
- [Custom Collectors](DebugToolbarCollectors.md)
- [Request Collector Security](RequestCollectorSecurity.md) - –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –æ –∑–∞—â–∏—Ç–µ –¥–∞–Ω–Ω—ã—Ö

