# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ —à–∞–±–ª–æ–Ω–∞—Ö

## –ü—Ä–æ–±–ª–µ–º–∞

–ü—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ —à–∞–±–ª–æ–Ω–∞—Ö, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –±—ã–ª–∏ –ø–µ—Ä–µ–¥–∞–Ω—ã –∏–∑ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞, –≤–æ–∑–Ω–∏–∫–∞—é—Ç –æ—à–∏–±–∫–∏:

```php
// –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä
display('user.twig', ['name' => '–ò–≤–∞–Ω']);

// –®–∞–±–ª–æ–Ω user.twig
<h1>{{ name }}</h1>
<p>Email: {{ email }}</p>  <!-- ‚ùå $email –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω! -->
```

### –ü–æ–≤–µ–¥–µ–Ω–∏–µ –≤ —Ä–∞–∑–Ω—ã—Ö —Ä–µ–∂–∏–º–∞—Ö

**Development (APP_ENV=development):**
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Error - Fatal Error                    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ Message: Undefined variable $email     ‚îÇ
‚îÇ File: welcome.twig:15                    ‚îÇ
‚îÇ Stack Trace: ...                        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```
- –û—à–∏–±–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ –∫—Ä–∞—Å–∏–≤—ã–π ErrorHandler
- –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∞–π–ª–µ –∏ —Å—Ç—Ä–æ–∫–µ
- Stack trace –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- –ü–æ–º–æ–≥–∞–µ—Ç –±—ã—Å—Ç—Ä–æ –Ω–∞–π—Ç–∏ –ø—Ä–æ–±–ª–µ–º—É

**Production (APP_ENV=production) –ë–ï–ó –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:**
```
(–ü—Ä–æ—Å—Ç–æ –ø—É—Å—Ç–æ–µ –º–µ—Å—Ç–æ, –æ—à–∏–±–∫–∞ —Å–∫—Ä—ã—Ç–∞)
```
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤–∏–¥–∏—Ç –æ—à–∏–±–∫—É ‚úì
- –ù–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ —Ç–æ–∂–µ –Ω–µ –∑–Ω–∞–µ—Ç –æ –ø—Ä–æ–±–ª–µ–º–µ ‚úó
- –°–ª–æ–∂–Ω–æ –æ—Ç—Å–ª–µ–¥–∏—Ç—å –±–∞–≥–∏

**Production –° –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º (–Ω–∞—à–µ —Ä–µ—à–µ–Ω–∏–µ):**
```
(–ü—É—Å—Ç–æ–µ –º–µ—Å—Ç–æ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ)
+ –ó–∞–ø–∏—Å—å –≤ –ª–æ–≥–µ: "Undefined variable $email in user.twig:15"
```
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤–∏–¥–∏—Ç –æ—à–∏–±–∫—É ‚úì
- –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –≤–∏–¥–∏—Ç –≤ –ª–æ–≥–∞—Ö ‚úì
- –õ–µ–≥–∫–æ –æ—Ç—Å–ª–µ–¥–∏—Ç—å –∏ –∏—Å–ø—Ä–∞–≤–∏—Ç—å ‚úì

## –†–µ—à–µ–Ω–∏–µ

–®–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä —Ç–µ–ø–µ—Ä—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –ü–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏ –æ–± undefined variables
2. –õ–æ–≥–∏—Ä—É–µ—Ç –∏—Ö –≤ production —Ä–µ–∂–∏–º–µ
3. –°–æ–±–∏—Ä–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∑–∞ —Å–µ—Å—Å–∏—é
4. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∫–∞–∫–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

–ù–∏—á–µ–≥–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ! –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–∫–ª—é—á–µ–Ω–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.

```php
// –í production —Ä–µ–∂–∏–º–µ
display('user.twig', ['name' => '–ò–≤–∞–Ω']);
// –ï—Å–ª–∏ –≤ —à–∞–±–ª–æ–Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è $email - –±—É–¥–µ—Ç –∑–∞–ª–æ–≥–∏—Ä–æ–≤–∞–Ω–æ
```

### 2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º

```php
use Core\TemplateEngine;

$template = TemplateEngine::getInstance();

// –û—Ç–∫–ª—é—á–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (–µ—Å–ª–∏ –Ω–µ –Ω—É–∂–Ω–æ)
$template->setLogUndefinedVars(false);

// –í–∫–ª—é—á–∏—Ç—å –æ–±—Ä–∞—Ç–Ω–æ
$template->setLogUndefinedVars(true);
```

### 3. –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

–ü–æ–ª–µ–∑–Ω–æ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∏ –æ—Ç–ª–∞–¥–∫–∏:

```php
// –í –∫–æ–Ω—Ü–µ —Å–∫—Ä–∏–ø—Ç–∞ –∏–ª–∏ –≤ debug –ø–∞–Ω–µ–ª–∏
$undefinedVars = TemplateEngine::getUndefinedVars();

if (!empty($undefinedVars)) {
    echo "‚ö†Ô∏è –ù–∞–π–¥–µ–Ω—ã –Ω–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:\n";
    
    foreach ($undefinedVars as $varName => $info) {
        echo sprintf(
            "- \$%s (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è %d —Ä–∞–∑) –≤ %s:%d\n",
            $varName,
            $info['count'],
            basename($info['file']),
            $info['line']
        );
    }
}

// –û—á–∏—Å—Ç–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
TemplateEngine::clearUndefinedVars();
```

### 4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Debug Toolbar

–í—ã –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å undefined variables –≤ Debug Toolbar:

```php
// –í –º–µ—Ç–æ–¥–µ collectTabs() –∫–ª–∞—Å—Å–∞ DebugToolbar
$undefinedVars = \Core\TemplateEngine::getUndefinedVars();

if (!empty($undefinedVars)) {
    $tabs['template_errors'] = [
        'title' => 'Template Errors',
        'icon' => '‚ö†Ô∏è',
        'content' => self::renderUndefinedVars($undefinedVars),
        'badge' => count($undefinedVars),
    ];
}
```

## –ü—Ä–∏–º–µ—Ä—ã

### –ü—Ä–∏–º–µ—Ä 1: –ü—Ä–æ—Å—Ç–æ–π —Å–ª—É—á–∞–π

```php
// –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä
public function profile()
{
    display('profile.twig', [
        'username' => 'john_doe',
        'email' => 'john@example.com'
    ]);
}
```

```html
<!-- profile.twig -->
<div>
    <h1>{{ username }}</h1>
    <p>{{ email }}</p>
    <p>{{ phone }}</p>  <!-- ‚ùå –ù–µ –ø–µ—Ä–µ–¥–∞–Ω–æ! -->
</div>
```

**–õ–æ–≥ –≤ production:**
```
[2025-09-30 14:30:12] WARNING: Template undefined variable: $phone
Message: Undefined variable $phone
File: profile.twig:15
Available variables: username, email
```

### –ü—Ä–∏–º–µ—Ä 2: –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º

```php
// –í –∫–æ–Ω—Ü–µ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
$undefined = TemplateEngine::getUndefinedVars();

if (!empty($undefined)) {
    // –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ —Å–∏—Å—Ç–µ–º—É –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
    foreach ($undefined as $varName => $info) {
        Monitoring::track('template.undefined_var', [
            'variable' => $varName,
            'count' => $info['count'],
            'template' => basename($info['file'])
        ]);
    }
}
```

### –ü—Ä–∏–º–µ—Ä 3: Debug –ø–∞–Ω–µ–ª—å

```php
// –í admin –ø–∞–Ω–µ–ª–∏
if (is_admin()) {
    $stats = TemplateEngine::getUndefinedVars();
    
    if (!empty($stats)) {
        echo '<div class="alert alert-warning">';
        echo '<strong>Template Issues:</strong><ul>';
        
        foreach ($stats as $var => $info) {
            echo "<li>\${$var} - {$info['count']} –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π</li>";
        }
        
        echo '</ul></div>';
    }
}
```

### –ü—Ä–∏–º–µ—Ä 4: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```php
// –í —Ç–µ—Å—Ç–∞—Ö
test('template should not have undefined variables', function () {
    TemplateEngine::clearUndefinedVars();
    
    ob_start();
    display('user.twig', ['name' => 'Test']);
    ob_end_clean();
    
    $undefined = TemplateEngine::getUndefinedVars();
    
    expect($undefined)->toBeEmpty();
});
```

## –§–æ—Ä–º–∞—Ç –ª–æ–≥–∞

### –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ª–æ–≥

```
[2025-09-30 14:30:12] WARNING: Template undefined variable: $user_avatar
Message: Undefined variable $user_avatar
File: user/profile.twig:42
Available variables: user_id, user_name, user_email, user_role
```

### –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –ª–æ–≥ (—Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º)

```
[2025-09-30 14:30:12] WARNING: Template undefined variable: $product_price
Message: Undefined variable $product_price
File: shop/product.twig:23
Available variables: product_id, product_name, product_description, product_image
Context: /shop/product/123
User: guest
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ config

–í—ã –º–æ–∂–µ—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:

```php
// config/app.php
return [
    'template' => [
        'log_undefined_vars' => env('TEMPLATE_LOG_UNDEFINED', true),
        'cache_enabled' => true,
        'cache_lifetime' => 3600,
    ],
];
```

```php
// –í Core::init() –∏–ª–∏ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —à–∞–±–ª–æ–Ω–∏–∑–∞—Ç–æ—Ä–∞
$template = TemplateEngine::getInstance();
$template->setLogUndefinedVars(
    Config::get('app.template.log_undefined_vars', true)
);
```

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### ‚úÖ –•–æ—Ä–æ—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

1. **–í—Å–µ–≥–¥–∞ –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ**
   ```php
   display('template.twig', [
       'title' => $title,
       'user' => $user,
       'settings' => $settings,
   ]);
   ```

2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**
   ```html
   {{ username | default('Guest') }}
   ```

3. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ**
   ```html
   {% if user_avatar %}
       <img src="{{ user_avatar }}">
   {% endif %}
   ```

4. **–†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏**
   ```bash
   tail -f storage/logs/app.log | grep "undefined variable"
   ```

### ‚ùå –ü–ª–æ—Ö–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

1. **–ù–µ –∏–≥–Ω–æ—Ä–∏—Ä—É–π—Ç–µ undefined variables**
   ```php
   // –ü–ª–æ—Ö–æ: –æ—Ç–∫–ª—é—á–∞—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —á—Ç–æ–±—ã —Å–∫—Ä—ã—Ç—å –ø—Ä–æ–±–ª–µ–º—ã
   $template->setLogUndefinedVars(false);
   ```

2. **–ù–µ –ø–æ–ª–∞–≥–∞–π—Ç–µ—Å—å –Ω–∞ ?? –æ–ø–µ—Ä–∞—Ç–æ—Ä –≤–µ–∑–¥–µ**
   ```html
   <!-- –ü–ª–æ—Ö–æ: –º–∞—Å–∫–∏—Ä—É–µ—Ç –ø—Ä–æ–±–ª–µ–º—É -->
   {{ some_var ?? '' }}
   
   <!-- –õ—É—á—à–µ: –ø–µ—Ä–µ–¥–∞–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é -->
   ```

3. **–ù–µ –æ—Å—Ç–∞–≤–ª—è–π—Ç–µ undefined vars –≤ production**
   - –ò—Å–ø—Ä–∞–≤–ª—è–π—Ç–µ —Å—Ä–∞–∑—É –∫–∞–∫ —É–≤–∏–¥–∏—Ç–µ –≤ –ª–æ–≥–∞—Ö

## FAQ

**Q: –í–ª–∏—è–µ—Ç –ª–∏ —ç—Ç–æ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å?**  
A: –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ. Error handler —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞.

**Q: –ë—É–¥—É—Ç –ª–∏ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤—Å–µ Notice/Warning?**  
A: –ù–µ—Ç, —Ç–æ–ª—å–∫–æ —Ç–µ, —á—Ç–æ —Å–≤—è–∑–∞–Ω—ã —Å undefined variables –≤ —à–∞–±–ª–æ–Ω–∞—Ö.

**Q: –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º?**  
A: –ö—ç—à –∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —à–∞–±–ª–æ–Ω–æ–≤ –Ω–µ –∑–∞—Ç—Ä–æ–Ω—É—Ç. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏.

**Q: –ú–æ–∂–Ω–æ –ª–∏ –æ—Ç–∫–ª—é—á–∏—Ç—å –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —à–∞–±–ª–æ–Ω–∞?**  
A: –î–∞, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `setLogUndefinedVars(false)` –ø–µ—Ä–µ–¥ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º –∏ –≤–µ—Ä–Ω–∏—Ç–µ –æ–±—Ä–∞—Ç–Ω–æ –ø–æ—Å–ª–µ.

**Q: –ß—Ç–æ –µ—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –º–æ–∂–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å?**  
A: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ–≤–µ—Ä–∫—É `{% if variable %}` –∏–ª–∏ —Ñ–∏–ª—å—Ç—Ä `| default`.

## –ú–∏–≥—Ä–∞—Ü–∏—è

–ï—Å–ª–∏ —É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å –∫–æ–¥ —Å undefined variables:

1. **–í–∫–ª—é—á–∏—Ç–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** (—É–∂–µ –≤–∫–ª—é—á–µ–Ω–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
2. **–ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –Ω–∞ staging**
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏** –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è
4. **–ò—Å–ø—Ä–∞–≤—å—Ç–µ –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã**
5. **–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ** –ø–æ–∫–∞ –ª–æ–≥–∏ –Ω–µ –±—É–¥—É—Ç —á–∏—Å—Ç—ã–º–∏

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º

### Sentry

```php
if (Environment::isProduction()) {
    $undefined = TemplateEngine::getUndefinedVars();
    
    foreach ($undefined as $var => $info) {
        Sentry\captureMessage("Template undefined variable: {$var}", [
            'level' => 'warning',
            'extra' => $info,
        ]);
    }
}
```

### Slack

```php
$undefined = TemplateEngine::getUndefinedVars();

if (count($undefined) > 5) {
    // –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –æ—à–∏–±–æ–∫ - —É–≤–µ–¥–æ–º–∏—Ç—å –∫–æ–º–∞–Ω–¥—É
    SlackNotifier::send("‚ö†Ô∏è –ù–∞–π–¥–µ–Ω–æ " . count($undefined) . " undefined variables –≤ —à–∞–±–ª–æ–Ω–∞—Ö!");
}
```

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ undefined variables –ø–æ–º–æ–≥–∞–µ—Ç:
- ‚úì –ù–∞—Ö–æ–¥–∏—Ç—å –±–∞–≥–∏ –≤ production –±–µ–∑ –ø–æ–∫–∞–∑–∞ –æ—à–∏–±–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
- ‚úì –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞
- ‚úì –ë—ã—Å—Ç—Ä–æ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –ø—Ä–æ–±–ª–µ–º—ã
- ‚úì –£–ª—É—á—à–∞—Ç—å –æ–ø—ã—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–∫–ª—é—á–µ–Ω–æ** –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏! üéâ
