# Request Collector - Security Features

## ๐ ะะตะทะพะฟะฐัะฝะพััั ะฒ Production ัะตะถะธะผะต

Request Collector ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฐะดะฐะฟัะธััะตั ััะพะฒะตะฝั ะดะตัะฐะปะธะทะฐัะธะธ ะธะฝัะพัะผะฐัะธะธ ะฒ ะทะฐะฒะธัะธะผะพััะธ ะพั ะพะบััะถะตะฝะธั ะฟัะธะปะพะถะตะฝะธั.

## ะะตะถะธะผั ัะฐะฑะพัั

### Development Mode (ัะฐะทัะฐะฑะพัะบะฐ)

ะ ัะตะถะธะผะต ัะฐะทัะฐะฑะพัะบะธ (`APP_ENV=development`) Request Collector ะฟะพะบะฐะทัะฒะฐะตั **ะฟะพะปะฝัั ะธะฝัะพัะผะฐัะธั**:

โ ะัะต GET ะฟะฐัะฐะผะตััั  
โ ะัะต POST ะดะฐะฝะฝัะต  
โ ะัะต cookies  
โ ะัะต HTTP headers  
โ **ะัะต server variables** (ะบัะพะผะต ะบัะธัะธัะตัะบะธ ััะฒััะฒะธัะตะปัะฝัั)  

```
Server Variables
โโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโ
โ Key                 โ Value                โ
โโโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโค
โ DOCUMENT_ROOT       โ /var/www/html        โ
โ REMOTE_ADDR         โ 127.0.0.1            โ
โ SERVER_NAME         โ localhost            โ
โ PATH                โ /usr/bin:/bin        โ
โ PHP_SELF            โ /index.php           โ
โ SCRIPT_FILENAME     โ /var/www/index.php   โ
โ PHP_AUTH_PW         โ ***HIDDEN***         โ  โ ะัะตะณะดะฐ ัะบัััะพ
โโโโโโโโโโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโโโโโโโโโ
```

### Production Mode (ะฟัะพะดะฐะบัะฝ)

ะ production ัะตะถะธะผะต (`APP_ENV=production`) Request Collector **ัะบััะฒะฐะตั ะฒัะต ัะตัะฒะตัะฝัะต ะฟะตัะตะผะตะฝะฝัะต**:

โ GET/POST/Cookies/Headers - ะฟะพะบะฐะทัะฒะฐัััั ะฟะพะปะฝะพัััั  
๐ **Server Variables - ะะกะ ัะบัััั**  

```
๐ PRODUCTION MODE

โ๏ธ Production Mode: All server variables are hidden for security reasons.
    Server variables are only visible in development mode.

Server Variables
โโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ Key                 โ Value                                โ
โโโโโโโโโโโโโโโโโโโโโโโผโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ REQUEST_METHOD      โ ***HIDDEN (PRODUCTION MODE)***       โ  โ ะกะบัััะพ
โ REQUEST_URI         โ ***HIDDEN (PRODUCTION MODE)***       โ  โ ะกะบัััะพ
โ SERVER_PROTOCOL     โ ***HIDDEN (PRODUCTION MODE)***       โ  โ ะกะบัััะพ
โ DOCUMENT_ROOT       โ ***HIDDEN (PRODUCTION MODE)***       โ  โ ะกะบัััะพ
โ REMOTE_ADDR         โ ***HIDDEN (PRODUCTION MODE)***       โ  โ ะกะบัััะพ
โ SERVER_NAME         โ ***HIDDEN (PRODUCTION MODE)***       โ  โ ะกะบัััะพ
โ PATH                โ ***HIDDEN (PRODUCTION MODE)***       โ  โ ะกะบัััะพ
โ PHP_SELF            โ ***HIDDEN (PRODUCTION MODE)***       โ  โ ะกะบัััะพ
โ SCRIPT_FILENAME     โ ***HIDDEN (PRODUCTION MODE)***       โ  โ ะกะบัััะพ
โ PHP_AUTH_PW         โ ***HIDDEN***                         โ  โ ะัะตะณะดะฐ ัะบัััะพ
โโโโโโโโโโโโโโโโโโโโโโโดโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**ะะพัะตะผั ะฒัะต ะฟะตัะตะผะตะฝะฝัะต ัะบัััั?**

ะ production ะพะบััะถะตะฝะธะต ะผะพะถะตั ัะพะดะตัะถะฐัั ะฝะตะฟัะตะดัะบะฐะทัะตะผัะต ะฟะตัะตะผะตะฝะฝัะต (ะฟััะธ, ัะพะบะตะฝั, API ะบะปััะธ, etc.), 
ะบะพัะพััะต ะผะพะณัั ะฟะพัะฒะธัััั ะฒ ะปัะฑะพะน ะผะพะผะตะฝั. ะะผะตััะพ ะฟะพะดะดะตัะถะบะธ ะฑะตะปัั/ัะตัะฝัั ัะฟะธัะบะพะฒ, ะบะพัะพััะต ะผะพะณัั 
ัััะฐัะตัั, ะผั ะฟะพะปะฝะพัััั ัะบััะฒะฐะตะผ ะฒัะต ัะตัะฒะตัะฝัะต ะฟะตัะตะผะตะฝะฝัะต ะดะปั ะผะฐะบัะธะผะฐะปัะฝะพะน ะฑะตะทะพะฟะฐัะฝะพััะธ.

## ะขะธะฟั ะทะฐัะธัั ะดะฐะฝะฝัั

### ะัะพััะฐั ะปะพะณะธะบะฐ: Production vs Development

ะ production ัะตะถะธะผะต **ะฒัะต** ัะตัะฒะตัะฝัะต ะฟะตัะตะผะตะฝะฝัะต ัะบััะฒะฐัััั ะบะฐะบ `***HIDDEN (PRODUCTION MODE)***`.

**ะะพัะตะผั ัะฐะบะพะน ะฟะพะดัะพะด?**

- โ **ะะฐะบัะธะผะฐะปัะฝะฐั ะฑะตะทะพะฟะฐัะฝะพััั** - ะฝะตั ัะธัะบะฐ ััะตัะบะธ ะฝะพะฒัั ะฟะตัะตะผะตะฝะฝัั
- โ **ะัะพััะพัะฐ** - ะฝะต ะฝัะถะฝะพ ะฟะพะดะดะตัะถะธะฒะฐัั ะฑะตะปัะต/ัะตัะฝัะต ัะฟะธัะบะธ
- โ **ะะฐะดะตะถะฝะพััั** - ัะฐะฑะพัะฐะตั ั ะปัะฑัะผะธ ะฟะตัะตะผะตะฝะฝัะผะธ ะพะบััะถะตะฝะธั
- โ **Zero-trust** - ะฝะต ัะณะฐะดัะฒะฐะตะผ, ััะพ ะฑะตะทะพะฟะฐัะฝะพ, ะฐ ัะบััะฒะฐะตะผ ะฒัั

ะ development ัะตะถะธะผะต ะฟะพะบะฐะทัะฒะฐัััั ะฒัะต ะฟะตัะตะผะตะฝะฝัะต ะดะปั ัะดะพะฑััะฒะฐ ะพัะปะฐะดะบะธ.

## ะัะธะผะตัั

### Development Mode

```bash
export APP_ENV=development
php -S localhost:8000
```

ะัะบัะพะนัะต `http://localhost:8000/demo` ะธ ะฟะพัะผะพััะธัะต ะฝะฐ Server Variables:
- ะัะต ะฟะตัะตะผะตะฝะฝัะต ะฒะธะดะฝั
- ะขะพะปัะบะพ ะบัะธัะธัะตัะบะธ ััะฒััะฒะธัะตะปัะฝัะต ัะบัััั (*_PASSWORD, *_SECRET, etc.)
- ะะพะปะฝะฐั ะธะฝัะพัะผะฐัะธั ะดะปั ะพัะปะฐะดะบะธ

### Production Mode

```bash
export APP_ENV=production
php -S localhost:8000
```

ะัะบัะพะนัะต `http://localhost:8000/demo` ะธ ะฟะพัะผะพััะธัะต ะฝะฐ Server Variables:
- ๐ ะัะฐัะฝัะน badge "PRODUCTION MODE"
- โ๏ธ ะัะตะดัะฟัะตะถะดะฐััะตะต ัะพะพะฑัะตะฝะธะต
- ะะพะปััะธะฝััะฒะพ ะฟะตัะตะผะตะฝะฝัั ัะบัััะพ
- ะะธะดะฝั ัะพะปัะบะพ ะฑะตะทะพะฟะฐัะฝัะต ะฟะฐัะฐะผะตััั

## ะกัะฐะฒะฝะธัะตะปัะฝะฐั ัะฐะฑะปะธัะฐ

| ะะตัะตะผะตะฝะฝะฐั          | Development | Production |
|---------------------|-------------|------------|
| REQUEST_METHOD      | โ ะะธะดะฝะฐ     | ๐ ะกะบัััะฐ   |
| REQUEST_URI         | โ ะะธะดะฝะฐ     | ๐ ะกะบัััะฐ   |
| DOCUMENT_ROOT       | โ ะะธะดะฝะฐ     | ๐ ะกะบัััะฐ   |
| REMOTE_ADDR         | โ ะะธะดะฝะฐ     | ๐ ะกะบัััะฐ   |
| SERVER_NAME         | โ ะะธะดะฝะฐ     | ๐ ะกะบัััะฐ   |
| SCRIPT_FILENAME     | โ ะะธะดะฝะฐ     | ๐ ะกะบัััะฐ   |
| PATH                | โ ะะธะดะฝะฐ     | ๐ ะกะบัััะฐ   |
| PHP_SELF            | โ ะะธะดะฝะฐ     | ๐ ะกะบัััะฐ   |
| PHP_AUTH_PW         | ๐ ะกะบัััะฐ    | ๐ ะกะบัััะฐ   |
| DB_PASSWORD         | ๐ ะกะบัััะฐ    | ๐ ะกะบัััะฐ   |
| **ะะกะ ะพััะฐะปัะฝัะต**   | โ ะะธะดะฝั     | ๐ ะกะบัััั   |

## ะะธะทัะฐะปัะฝะฐั ะธะฝะดะธะบะฐัะธั

### Production Mode Badge

ะ production ัะตะถะธะผะต ะฒ ะทะฐะณะพะปะพะฒะบะต ัะตะบัะธะธ Server Variables ะพัะพะฑัะฐะถะฐะตััั ะบัะฐัะฝัะน badge:

```html
๐ Server Variables ๐ PRODUCTION MODE
```

### Warning Message

ะะตัะตะด ัะฐะฑะปะธัะตะน ะฟะพะบะฐะทัะฒะฐะตััั ะฟัะตะดัะฟัะตะถะดะตะฝะธะต:

```
โ๏ธ Production Mode: Sensitive server variables are hidden 
   for security reasons. Only safe variables are shown.
```

## ะคะธะปะพัะพัะธั "Hide All" ะฒ Production

Request Collector ะธัะฟะพะปัะทัะตั ะฟะพะดัะพะด **"ัะบัััั ะฒัั ะฒ production"** ะฒะผะตััะพ ะฑะตะปัั ัะฟะธัะบะพะฒ.

**ะัะตะธะผััะตััะฒะฐ:**

1. โ **ะะฐะบัะธะผะฐะปัะฝะฐั ะฑะตะทะพะฟะฐัะฝะพััั** - ะฝะตั ัะธัะบะฐ ะทะฐะฑััั ะดะพะฑะฐะฒะธัั ะฟะตัะตะผะตะฝะฝัั ะฒ ัะตัะฝัะน ัะฟะธัะพะบ
2. โ **ะัะพััะพัะฐ ะบะพะดะฐ** - ะฝะต ะฝัะถะฝะพ ะฟะพะดะดะตัะถะธะฒะฐัั ัะปะพะถะฝัะต ัะฟะธัะบะธ
3. โ **ะัะดััะตะต-proof** - ัะฐะฑะพัะฐะตั ั ะปัะฑัะผะธ ะฝะพะฒัะผะธ ะฟะตัะตะผะตะฝะฝัะผะธ
4. โ **Zero-trust** - ะฑะตะทะพะฟะฐัะฝะพััั ะฟะพ ัะผะพะปัะฐะฝะธั

**ะัะปะธ ะฝัะถะฝะพ ะฟะพะบะฐะทะฐัั ะฟะตัะตะผะตะฝะฝัะต ะฒ production:**

ะะต ัะตะบะพะผะตะฝะดัะตััั, ะฝะพ ะตัะปะธ ะดะตะนััะฒะธัะตะปัะฝะพ ะฝะตะพะฑัะพะดะธะผะพ, ะธัะฟะพะปัะทัะนัะต development ัะตะถะธะผ ั ะพัะบะปััะตะฝะฝัะผ debug:

```bash
# ะะต ัะตะบะพะผะตะฝะดัะตััั ะดะปั production!
APP_ENV=development
APP_DEBUG=false
```

## ะะพะฑะฐะฒะปะตะฝะธะต ััะฒััะฒะธัะตะปัะฝัั ะฟะตัะตะผะตะฝะฝัั

ะงัะพะฑั ะดะพะฑะฐะฒะธัั ะดะพะฟะพะปะฝะธัะตะปัะฝัะต ะฒัะตะณะดะฐ ัะบััััะต ะฟะตัะตะผะตะฝะฝัะต:

```php
$alwaysHidden = [
    'PHP_AUTH_PW',
    'PHP_AUTH_USER',
    'HTTP_AUTHORIZATION',
    // ะะพะฑะฐะฒััะต ัะฒะพะธ
    'MY_SECRET_VAR',
    'CUSTOM_API_KEY',
];
```

## ะะฐััะตัะฝั ััะฒััะฒะธัะตะปัะฝัั ะดะฐะฝะฝัั

ะะฒัะพะผะฐัะธัะตัะบะพะต ะพะฟัะตะดะตะปะตะฝะธะต ัะฐะฑะพัะฐะตั ะฟะพ ะฟะฐััะตัะฝะฐะผ:

```php
$patterns = [
    'PASSWORD',
    'SECRET', 
    'TOKEN',
    'KEY',
    'AUTH',
    'CREDENTIAL'
];
```

ะะพะฑะฐะฒััะต ัะฒะพะธ ะฟะฐััะตัะฝั ะฒ ะผะตัะพะด `isSensitiveKey()`:

```php
$patterns = [
    'PASSWORD',
    'SECRET',
    'TOKEN',
    'KEY',
    'AUTH',
    'CREDENTIAL',
    'PRIVATE',  // ะะฐั ะฟะฐััะตัะฝ
    'SENSITIVE', // ะะฐั ะฟะฐััะตัะฝ
];
```

## Best Practices

### โ ะะตะบะพะผะตะฝะดัะตััั

1. **ะัะตะณะดะฐ ะธัะฟะพะปัะทัะนัะต production ัะตะถะธะผ ะฝะฐ ะฑะพะตะฒัั ัะตัะฒะตัะฐั**
   ```bash
   APP_ENV=production
   ```

2. **ะัะบะปััะฐะนัะต Debug Toolbar ะฒ production**
   ```bash
   APP_DEBUG=false
   ```

3. **ะัะพะฒะตััะนัะต ะปะพะณะธ ะฝะฐ ะฟัะตะดะผะตั ััะตัะตะบ ะดะฐะฝะฝัั**
   ```bash
   grep -r "PASSWORD\|SECRET\|TOKEN" storage/logs/
   ```

4. **ะัะฟะพะปัะทัะนัะต .env ัะฐะนะปั ะดะปั ััะฒััะฒะธัะตะปัะฝัั ะดะฐะฝะฝัั**
   ```bash
   # .env
   DB_PASSWORD=secret123
   API_KEY=your-api-key
   ```

### โ ะะต ัะตะบะพะผะตะฝะดัะตััั

1. โ ะััะฐะฒะปััั Debug Toolbar ะฒะบะปััะตะฝะฝัะผ ะฒ production
2. โ ะฅัะฐะฝะธัั ะฟะฐัะพะปะธ ะฒ ะบะพะดะต
3. โ ะะพะผะผะธัะธัั .env ัะฐะนะปั ะฒ git
4. โ ะะพะณะธัะพะฒะฐัั ััะฒััะฒะธัะตะปัะฝัะต ะดะฐะฝะฝัะต

## ะขะตััะธัะพะฒะฐะฝะธะต ะฑะตะทะพะฟะฐัะฝะพััะธ

### ะขะตัั 1: ะัะพะฒะตัะบะฐ ัะบัััะธั ะฟะฐัะพะปะตะน

```bash
# Development
curl http://localhost:8000/demo | grep "PHP_AUTH_PW"
# ะะพะปะถะฝะพ ะฟะพะบะฐะทะฐัั: ***HIDDEN***

# Production
export APP_ENV=production
curl http://localhost:8000/demo | grep "PHP_AUTH_PW"
# ะะพะปะถะฝะพ ะฟะพะบะฐะทะฐัั: ***HIDDEN***
```

### ะขะตัั 2: ะัะพะฒะตัะบะฐ production ัะตะถะธะผะฐ

```bash
export APP_ENV=production
curl http://localhost:8000/demo | grep "PRODUCTION MODE"
# ะะพะปะถะฝะพ ะฝะฐะนัะธ badge ะธ warning
```

### ะขะตัั 3: ะัะพะฒะตัะบะฐ ัะธะปัััะฐัะธะธ

```bash
# ะฃััะฐะฝะพะฒะธัะต ัะตััะพะฒัั ะฟะตัะตะผะตะฝะฝัั
export MY_SECRET_KEY="supersecret"

# Development - ะดะพะปะถะฝะฐ ะฑััั ัะบัััะฐ
curl http://localhost:8000/demo | grep "MY_SECRET_KEY"
# ะะตะทัะปััะฐั: ***HIDDEN***

# Production - ัะพะถะต ัะบัััะฐ
export APP_ENV=production
curl http://localhost:8000/demo | grep "MY_SECRET_KEY"
# ะะตะทัะปััะฐั: ***HIDDEN***
```

## Compliance & Regulations

Request Collector ะฟะพะผะพะณะฐะตั ัะพะพัะฒะตัััะฒะพะฒะฐัั ััะตะฑะพะฒะฐะฝะธัะผ:

- โ **GDPR** - ะฝะต ะฟะพะบะฐะทัะฒะฐะตั IP ะฐะดัะตัะฐ ะฒ production
- โ **PCI DSS** - ัะบััะฒะฐะตั ะฟััะธ ะบ ัะฐะนะปะฐะผ ะธ ะบะพะฝัะธะดะตะฝัะธะฐะปัะฝัะต ะดะฐะฝะฝัะต
- โ **OWASP** - ะทะฐัะธัะฐ ะพั ััะตัะบะธ ะธะฝัะพัะผะฐัะธะธ
- โ **ISO 27001** - ะบะพะฝััะพะปั ะดะพัััะฟะฐ ะบ ััะฒััะฒะธัะตะปัะฝัะผ ะดะฐะฝะฝัะผ

## ะะฐะบะปััะตะฝะธะต

Request Collector ะพะฑะตัะฟะตัะธะฒะฐะตั **ะผะฝะพะณะพััะพะฒะฝะตะฒัั ะทะฐัะธัั** ััะฒััะฒะธัะตะปัะฝัั ะดะฐะฝะฝัั:

1. ๐ก๏ธ **ะะฒัะพะผะฐัะธัะตัะบะพะต ะพะฟัะตะดะตะปะตะฝะธะต** ััะฒััะฒะธัะตะปัะฝัั ะฟะตัะตะผะตะฝะฝัั
2. ๐ **Production ัะตะถะธะผ** ั ะผะธะฝะธะผะฐะปัะฝะพะน ะธะฝัะพัะผะฐัะธะตะน
3. โ๏ธ **ะะธะทัะฐะปัะฝะฐั ะธะฝะดะธะบะฐัะธั** ัะตะถะธะผะฐ ะฑะตะทะพะฟะฐัะฝะพััะธ
4. โ **ะะตะปัะน ัะฟะธัะพะบ** ะฑะตะทะพะฟะฐัะฝัั ะฟะตัะตะผะตะฝะฝัั
5. ๐ซ **ะงะตัะฝัะน ัะฟะธัะพะบ** ะฒัะตะณะดะฐ ัะบััััั ะดะฐะฝะฝัั

**ะะตะทะพะฟะฐัะฝะพััั ะฟะพ ัะผะพะปัะฐะฝะธั!** ๐

