# Logs Collector - –ö–æ–ª–ª–µ–∫—Ç–æ—Ä –ª–æ–≥–æ–≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## –û–±–∑–æ—Ä

**LogsCollector** –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –≤—Å–µ –ª–æ–≥–∏, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –≤–æ –≤—Ä–µ–º—è —Ç–µ–∫—É—â–µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É `Logger`.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üìä –ß—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç:
- –í—Å–µ –ª–æ–≥–∏ —Ç–µ–∫—É—â–µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ (debug, info, warning, error, critical)
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —É—Ä–æ–≤–Ω—è–º
- –í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏
- –ö–æ–Ω—Ç–µ–∫—Å—Ç –∫–∞–∂–¥–æ–≥–æ –ª–æ–≥–∞
- –¶–≤–µ—Ç–æ–≤–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞ –ø–æ —É—Ä–æ–≤–Ω—è–º

### üé® –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è:
- **–¢–∞–±–ª–∏—Ü–∞ –ª–æ–≥–æ–≤** —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** –ø–æ —É—Ä–æ–≤–Ω—è–º
- **–ö–æ–Ω—Ç–µ–∫—Å—Ç** –≤ expandable –±–ª–æ–∫–∞—Ö
- **Badge** —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º errors/critical

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

```php
use Core\Logger;

// Debug –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
Logger::debug('User action', ['user_id' => 123, 'action' => 'login']);

// –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
Logger::info('Payment processed', ['amount' => 100, 'currency' => 'USD']);

// –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
Logger::warning('Slow query detected', ['query' => 'SELECT...', 'time' => 2.5]);

// –û—à–∏–±–∫–∏
Logger::error('Database connection failed', ['host' => 'localhost']);

// –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏
Logger::critical('System failure', ['error' => 'Out of memory']);
```

### –° –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º

```php
Logger::info('User {username} logged in from {ip}', [
    'username' => 'john_doe',
    'ip' => '192.168.1.1',
    'timestamp' => time()
]);
// –†–µ–∑—É–ª—å—Ç–∞—Ç: "User john_doe logged in from 192.168.1.1"
```

## –í–∏–∑—É–∞–ª—å–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ DEBUG   ‚îÇ INFO    ‚îÇ WARNING  ‚îÇ ERROR  ‚îÇ CRITICAL ‚îÇ
‚îÇ   12    ‚îÇ   45    ‚îÇ    3     ‚îÇ   2    ‚îÇ    0     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –¢–∞–±–ª–∏—Ü–∞ –ª–æ–≥–æ–≤
```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Level    ‚îÇ Time                 ‚îÇ Message                    ‚îÇ Context  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ ERROR    ‚îÇ 2025-10-01 10:30:45  ‚îÇ Database connection failed ‚îÇ [View]   ‚îÇ
‚îÇ WARNING  ‚îÇ 2025-10-01 10:30:46  ‚îÇ Slow query detected        ‚îÇ [View]   ‚îÇ
‚îÇ INFO     ‚îÇ 2025-10-01 10:30:47  ‚îÇ User logged in             ‚îÇ [View]   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## –¶–≤–µ—Ç–æ–≤–∞—è –∫–æ–¥–∏—Ä–æ–≤–∫–∞

- üîµ **DEBUG** - —Å–µ—Ä–æ-—Å–∏–Ω–∏–π (#78909c)
- üî∑ **INFO** - —Å–∏–Ω–∏–π (#42a5f5)
- üü† **WARNING** - –æ—Ä–∞–Ω–∂–µ–≤—ã–π (#ffa726)
- üî¥ **ERROR** - –∫—Ä–∞—Å–Ω—ã–π (#ef5350)
- üî¥ **CRITICAL** - —Ç–µ–º–Ω–æ-–∫—Ä–∞—Å–Ω—ã–π (#c62828)

## Header Stats

–í –∑–∞–≥–æ–ª–æ–≤–∫–µ toolbar –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è:
- –ü—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ critical/errors: `üìù 2 errors` (–∫—Ä–∞—Å–Ω—ã–π)
- –ü—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ warnings: `üìù 3 warnings` (–æ—Ä–∞–Ω–∂–µ–≤—ã–π)
- –ò–Ω–∞—á–µ: `üìù 15 logs` (–∑–µ–ª–µ–Ω—ã–π)

## Badge

–ù–∞ –≤–∫–ª–∞–¥–∫–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ critical + errors (–µ—Å–ª–∏ –µ—Å—Ç—å)
- –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª–æ–≥–æ–≤ (–µ—Å–ª–∏ –Ω–µ—Ç –æ—à–∏–±–æ–∫)

## API

### Logger::getLogs()
–ü–æ–ª—É—á–∞–µ—Ç –≤—Å–µ –ª–æ–≥–∏ —Ç–µ–∫—É—â–µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞:
```php
$logs = Logger::getLogs();
// [
//     ['level' => 'info', 'message' => '...', 'context' => [...], 'time' => ...],
//     ...
// ]
```

### Logger::getStats()
–ü–æ–ª—É—á–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É:
```php
$stats = Logger::getStats();
// [
//     'total' => 15,
//     'by_level' => [
//         'debug' => 5,
//         'info' => 8,
//         'warning' => 2,
//         ...
//     ]
// ]
```

### Logger::clearLogs()
–û—á–∏—â–∞–µ—Ç –ª–æ–≥–∏ (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è):
```php
Logger::clearLogs();
```

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API
```php
Logger::debug('API Request', [
    'method' => 'POST',
    'endpoint' => '/api/users',
    'data' => $requestData
]);
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ —Å stack trace
```php
try {
    // –∫–æ–¥
} catch (\Exception $e) {
    Logger::error('Exception caught', [
        'message' => $e->getMessage(),
        'file' => $e->getFile(),
        'line' => $e->getLine(),
        'trace' => $e->getTraceAsString()
    ]);
}
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
```php
$start = microtime(true);
// ... –æ–ø–µ—Ä–∞—Ü–∏—è ...
$time = (microtime(true) - $start) * 1000;

if ($time > 100) {
    Logger::warning('Slow operation detected', [
        'operation' => 'image_processing',
        'time_ms' => $time
    ]);
}
```

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

LogsCollector –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –≤ Debug Toolbar –∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.

–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç: **65** (–º–µ–∂–¥—É Timers –∏ Memory)

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –≤–ª–∏—è–Ω–∏–µ –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ –õ–æ–≥–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –ø–∞–º—è—Ç–∏ —Ç–µ–∫—É—â–µ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –ø–æ—Å–ª–µ –∑–∞–ø—Ä–æ—Å–∞
- ‚úÖ –û—Ç–∫–ª—é—á–∞–µ—Ç—Å—è –≤ production (–µ—Å–ª–∏ Environment –Ω–µ debug)

## –°–æ–≤–µ—Ç—ã

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —É—Ä–æ–≤–Ω–∏:**
   - `debug` - –¥–µ—Ç–∞–ª—å–Ω–∞—è –æ—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
   - `info` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
   - `warning` - –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è, –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
   - `error` - –æ—à–∏–±–∫–∏, —Ç—Ä–µ–±—É—é—â–∏–µ –≤–Ω–∏–º–∞–Ω–∏—è
   - `critical` - –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏, —Å–∏—Å—Ç–µ–º–∞ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

2. **–î–æ–±–∞–≤–ª—è–π—Ç–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç:**
   - –í—Å–µ–≥–¥–∞ –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ –ø–æ–ª–µ–∑–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ context
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–ª–µ–π—Å—Ö–æ–ª–¥–µ—Ä—ã –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö

3. **–ù–µ –ª–æ–≥–∏—Ä—É–π—Ç–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:**
   - –ü–∞—Ä–æ–ª–∏, —Ç–æ–∫–µ–Ω—ã, –∫–ª—é—á–∏ API
   - –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

## –ß—Ç–æ –¥–∞–ª—å—à–µ?

–°–ª–µ–¥—É—é—â–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —É—Ä–æ–≤–Ω—è–º –ø—Ä—è–º–æ –≤ toolbar
- –≠–∫—Å–ø–æ—Ä—Ç –ª–æ–≥–æ–≤ –≤ —Ñ–∞–π–ª
- –ü–æ–∏—Å–∫ –ø–æ –ª–æ–≥–∞–º
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ—Ö–æ–∂–∏—Ö –ª–æ–≥–æ–≤


