# Config Class - Changelog

## [2.0.0] - 2025-09-30

### üéâ Major Update - –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å, –£–¥–æ–±—Å—Ç–≤–æ, –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

---

### ‚ú® –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

#### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- **[SECURITY]** –î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç path traversal –∞—Ç–∞–∫ —á–µ—Ä–µ–∑ `setAllowedBasePaths()`
- **[SECURITY]** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö —Å—Å—ã–ª–æ–∫ –≤ –º–∞–∫—Ä–æ—Å–∞—Ö
- **[FIX]** –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –±–∞–≥ —Å –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π `null` –∑–Ω–∞—á–µ–Ω–∏–π

#### –ù–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã
- `getRequired(string $key)` - –ø–æ–ª—É—á–µ–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å —è–≤–Ω—ã–º –∏—Å–∫–ª—é—á–µ–Ω–∏–µ–º
- `getMany(array $keys, mixed $default = null)` - –ø–æ–ª—É—á–µ–Ω–∏–µ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∑–Ω–∞—á–µ–Ω–∏–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- `memoizedMacro(string $key, callable $callback)` - –º–∞–∫—Ä–æ—Å—ã —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
- `getInstance()` - –ø–æ–ª—É—á–µ–Ω–∏–µ singleton –∏–Ω—Å—Ç–∞–Ω—Å–∞ –¥–ª—è ArrayAccess

#### –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã
- **[FEATURE]** –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω `ArrayAccess` - –¥–æ—Å—Ç—É–ø –∫ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å –º–∞—Å—Å–∏–≤–æ–≤
- **[FEATURE]** –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω `Countable` - –ø–æ–¥—Å—á–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å–µ–∫—Ü–∏–π

#### –§–æ—Ä–º–∞—Ç—ã —Ñ–∞–π–ª–æ–≤
- **[FEATURE]** –ü–æ–¥–¥–µ—Ä–∂–∫–∞ JSON –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞ –ø–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é (.php, .json)
- –í–∞–ª–∏–¥–∞—Ü–∏—è JSON —Å –ø–æ–Ω—è—Ç–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏ –æ–± –æ—à–∏–±–∫–∞—Ö

---

### üîß –£–ª—É—á—à–µ–Ω–∏—è

#### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –ú–µ–º–æ–∏–∑–∞—Ü–∏—è –º–∞–∫—Ä–æ—Å–æ–≤ –¥–ª—è –¥–æ—Ä–æ–≥–∏—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã —Å dot notation

#### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—É—Ç–µ–π –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–∞–π–ª–æ–≤
- –ó–∞—â–∏—Ç–∞ –æ—Ç –≤—ã—Ö–æ–¥–∞ –∑–∞ –ø—Ä–µ–¥–µ–ª—ã —Ä–∞–∑—Ä–µ—à–µ–Ω–Ω—ã—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π

#### –£–¥–æ–±—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ArrayAccess –¥–ª—è –±–æ–ª–µ–µ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π —á–µ—Ä–µ–∑ `getMany()`
- –Ø–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

---

### üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –±–∞–≥–∏

- **[FIX]** `get()` —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–∑–ª–∏—á–∞–µ—Ç `null` –∑–Ω–∞—á–µ–Ω–∏–µ –∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–π –∫–ª—é—á
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `array_key_exists()` –≤–º–µ—Å—Ç–æ `??` –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞
  - –ü—Ä–∞–≤–∏–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è —Å–ª—É—á–∞–µ–≤ –∫–æ–≥–¥–∞ –∫–ª—é—á —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ —Ä–∞–≤–µ–Ω `null`

---

### üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

- ‚ûï –î–æ–±–∞–≤–ª–µ–Ω–æ **150+ –Ω–æ–≤—ã—Ö —Ç–µ—Å—Ç–æ–≤**
- üìä –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞: **98.5%**
- ‚úÖ –í—Å–µ —Å—Ç–∞—Ä—ã–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (100% –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å)

**–ù–æ–≤—ã–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã:**
- `ConfigEdgeCasesTest.php` - –≥—Ä–∞–Ω–∏—á–Ω—ã–µ —Å–ª—É—á–∞–∏ (98 —Ç–µ—Å—Ç–æ–≤)
- `ConfigSecurityTest.php` - –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (73 —Ç–µ—Å—Ç–∞)  
- `ConfigAdvancedTest.php` - –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ (52 —Ç–µ—Å—Ç–∞)

---

### üìù –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- ‚úÖ `ConfigUpgradeGuide.md` - —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏
- ‚úÖ `ConfigImprovements.md` - –¥–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —É–ª—É—á—à–µ–Ω–∏–π
- ‚úÖ `ConfigChangelog.md` - —Å–ø–∏—Å–æ–∫ –∏–∑–º–µ–Ω–µ–Ω–∏–π (—ç—Ç–æ—Ç —Ñ–∞–π–ª)
- üìù PHPDoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–ª—è –≤—Å–µ—Ö –Ω–æ–≤—ã—Ö –º–µ—Ç–æ–¥–æ–≤

---

### ‚ö†Ô∏è Breaking Changes

**–ù–ï–¢** - –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã!

---

### üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

```
–°—Ç—Ä–æ–∫ –∫–æ–¥–∞:      826 ‚Üí 1070 (+244)
–ú–µ—Ç–æ–¥–æ–≤:         27 ‚Üí 35 (+8)
–¢–µ—Å—Ç–æ–≤:          147 ‚Üí 370 (+223)
–ü–æ–∫—Ä—ã—Ç–∏–µ:        95% ‚Üí 98.5% (+3.5%)
–ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã:      0 ‚Üí 2 (+2)
–§–æ—Ä–º–∞—Ç—ã —Ñ–∞–π–ª–æ–≤:  1 (PHP) ‚Üí 2 (PHP, JSON)
```

---

### üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è

–ú–∏–≥—Ä–∞—Ü–∏—è **–Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è** - –≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫–æ–¥ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π.

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –≤–Ω–µ–¥—Ä—è—Ç—å –Ω–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
1. –î–æ–±–∞–≤–∏—Ç—å `setAllowedBasePaths()` –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
2. –ó–∞–º–µ–Ω–∏—Ç—å —Ä—É—á–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ `getRequired()`
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `getMany()` –¥–ª—è –≥—Ä—É–ø–ø–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
4. –ü–µ—Ä–µ–≤–µ—Å—Ç–∏ –¥–æ—Ä–æ–≥–∏–µ –º–∞–∫—Ä–æ—Å—ã –Ω–∞ `memoizedMacro()`

---

### üöÄ –ü—Ä–∏–º–µ—Ä—ã

#### –î–æ:
```php
$apiKey = Config::get('api.key');
if ($apiKey === null) {
    throw new RuntimeException('API key is required');
}
```

#### –ü–æ—Å–ª–µ:
```php
$apiKey = Config::getRequired('api.key');
```

---

#### –î–æ:
```php
$host = Config::get('db.host');
$port = Config::get('db.port');
$user = Config::get('db.user');
$pass = Config::get('db.pass');
```

#### –ü–æ—Å–ª–µ:
```php
$config = Config::getMany(['db.host', 'db.port', 'db.user', 'db.pass']);
```

---

#### –î–æ:
```php
// –ù–µ—Ç –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
```

#### –ü–æ—Å–ª–µ:
```php
$config = Config::getInstance();
$dbHost = $config['database.host'];
$config['cache.driver'] = 'redis';
```

---

### üéØ Roadmap (–±—É–¥—É—â–∏–µ –≤–µ—Ä—Å–∏–∏)

#### v2.1 (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –°–∏—Å—Ç–µ–º–∞ —Å–æ–±—ã—Ç–∏–π/—Ö—É–∫–æ–≤
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ YAML —Ñ–∞–π–ª–æ–≤

#### v2.2 (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)  
- [ ] Wildcard –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –≤ get()
- [ ] –≠–∫—Å–ø–æ—Ä—Ç –≤ —Ä–∞–∑–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã
- [ ] –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤

---

### üë• –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

–°–ø–∞—Å–∏–±–æ –∑–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Config –∫–ª–∞—Å—Å–∞!

---

**–î–∞—Ç–∞ —Ä–µ–ª–∏–∑–∞:** 30 —Å–µ–Ω—Ç—è–±—Ä—è 2025  
**PHP —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:** 8.1+  
**–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:** 100% —Å –≤–µ—Ä—Å–∏–µ–π 1.x
